(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[207],{68940:function(e,t,r){"use strict";r.d(t,{O:function(){return m}});var n=r(67294),o=r(3857),i=r(39859),a=r(58067);const c=(0,i.F4)({"from, to":{opacity:.4},"50%":{opacity:1}});var s=(0,a.k)(((e,{height:t,width:r,radius:n,circle:o,animate:i})=>({root:{height:t,width:o?t:r,borderRadius:o?t:e.fn.radius(n),position:"relative",overflow:"hidden"},visible:{"&::before":{content:'""',position:"absolute",background:"dark"===e.colorScheme?e.colors.dark[7]:e.white,top:0,bottom:0,left:0,right:0,zIndex:10},"&::after":{content:'""',position:"absolute",background:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3],top:0,bottom:0,left:0,right:0,animation:i?`${c} 1500ms linear infinite`:"none",zIndex:11}}}))),l=r(10745),d=Object.defineProperty,u=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const g={height:"auto",width:"100%",visible:!0,animate:!0},m=(0,n.forwardRef)(((e,t)=>{const r=(0,o.Z3)("Skeleton",g,e),{height:i,width:a,visible:c,animate:d,className:m,circle:x,radius:b,classNames:v,styles:k}=r,w=((e,t)=>{var r={};for(var n in e)h.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&u)for(var n of u(e))t.indexOf(n)<0&&f.call(e,n)&&(r[n]=e[n]);return r})(r,["height","width","visible","animate","className","circle","radius","classNames","styles"]),{classes:N,cx:j}=s({height:i,width:a,circle:x,radius:b,animate:d},{classNames:v,styles:k,name:"Skeleton"});return n.createElement(l.x,((e,t)=>{for(var r in t||(t={}))h.call(t,r)&&p(e,r,t[r]);if(u)for(var r of u(t))f.call(t,r)&&p(e,r,t[r]);return e})({className:j(N.root,{[N.visible]:c},m),ref:t},w))}));m.displayName="@mantine/core/Skeleton"},68129:function(e,t,r){"use strict";r.d(t,{i:function(){return y}});var n=r(67294),o=r(3857),i=r(58067),a=Object.defineProperty,c=Object.defineProperties,s=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,h=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))d.call(t,r)&&h(e,r,t[r]);if(l)for(var r of l(t))u.call(t,r)&&h(e,r,t[r]);return e},p=(0,i.k)(((e,{captionSide:t,horizontalSpacing:r,verticalSpacing:n,fontSize:o},i)=>{const a={ref:i("striped")},l={ref:i("hover")};return{striped:a,hover:l,root:(d=f({},e.fn.fontStyles()),u={width:"100%",borderCollapse:"collapse",captionSide:t,color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,lineHeight:e.lineHeight,"& caption":{marginTop:"top"===t?0:e.spacing.xs,marginBottom:"bottom"===t?0:e.spacing.xs,fontSize:e.fontSizes.sm,color:"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[6]},"& thead tr th, & tfoot tr th":{textAlign:"left",fontWeight:"bold",color:"dark"===e.colorScheme?e.colors.dark[0]:e.colors.gray[7],fontSize:e.fn.size({size:o,sizes:e.fontSizes}),padding:`${e.fn.size({size:n,sizes:e.spacing})}px ${e.fn.size({size:r,sizes:e.spacing})}px`},"& thead tr th":{borderBottom:`1px solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3]}`},"& tfoot tr th":{borderTop:`1px solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3]}`},"& tbody tr td":{padding:`${e.fn.size({size:n,sizes:e.spacing})}px ${e.fn.size({size:r,sizes:e.spacing})}px`,borderBottom:`1px solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3]}`,fontSize:e.fn.size({size:o,sizes:e.fontSizes})},"& tbody tr:last-of-type td":{borderBottom:"none"},[`&.${a.ref} tbody tr:nth-of-type(odd)`]:{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0]},[`&.${l.ref} tbody tr:hover`]:{backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[1]}},c(d,s(u)))};var d,u})),g=r(10745),m=Object.defineProperty,x=Object.defineProperties,b=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,N=(e,t,r)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const j={striped:!1,highlightOnHover:!1,captionSide:"top",horizontalSpacing:"xs",fontSize:"sm",verticalSpacing:7},y=(0,n.forwardRef)(((e,t)=>{const r=(0,o.Z3)("Table",j,e),{className:i,children:a,striped:c,highlightOnHover:s,captionSide:l,horizontalSpacing:d,verticalSpacing:u,fontSize:h}=r,f=((e,t)=>{var r={};for(var n in e)k.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&v)for(var n of v(e))t.indexOf(n)<0&&w.call(e,n)&&(r[n]=e[n]);return r})(r,["className","children","striped","highlightOnHover","captionSide","horizontalSpacing","verticalSpacing","fontSize"]),{classes:m,cx:y}=p({captionSide:l,verticalSpacing:u,horizontalSpacing:d,fontSize:h},{name:"Table"});return n.createElement(g.x,(S=((e,t)=>{for(var r in t||(t={}))k.call(t,r)&&N(e,r,t[r]);if(v)for(var r of v(t))w.call(t,r)&&N(e,r,t[r]);return e})({},f),T={component:"table",ref:t,className:y(m.root,{[m.striped]:c,[m.hover]:s},i)},x(S,b(T))),a);var S,T}));y.displayName="@mantine/core/Table"},94184:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var c in r)n.call(r,c)&&r[c]&&e.push(c);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},75999:function(e,t,r){"use strict";r.d(t,{Z:function(){return C}});var n=r(14924),o=r(85893),i=r(67294),a=r(58067),c=r(68940),s=r(76867),l=r(79571),d=r(24242),u=r(71217),h=r(47568),f=r(34051),p=r.n(f),g=r(3857),m=r(11163),x=r(86455),b=r.n(x),v=r(9669),k=r.n(v),w=r(18699),N=(0,a.k)((function(e){return{portalDiv:{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%,-50%)",width:400,fontSize:"1em",background:"white",color:"black",borderRadius:10,padding:10,paddingTop:0},greenText:{color:"green",fontSize:"1em"},infoText:{fontSize:".5em",fontStyle:"italic"},imgdiv:{flexGrow:1,cursor:"pointer"},imgstyle:{height:"17px"},imgmetamaskstyle:{height:50,margin:10},btncolor:{backgroundColor:"rgb(75, 141, 255)",color:"white",cursor:"pointer",borderRadius:10,fontSize:".5em",width:"45%",marginLeft:"auto !important",marginRight:"auto !important"},connectbtn:{cursor:"pointer"}}}));function j(e){var t=e.className,r=(0,g.rZ)(),n=(0,m.useRouter)(),a=N().classes,c=(0,d.o)().god,s=(0,i.useState)(!1),l=s[0],u=s[1];return(0,i.useEffect)((function(){k().get("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js").then((function(e){})).catch((function(e){var t=function(){var e=(0,h.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("working"),e.next=3,w.isBrave();case 3:if(1!=e.sent){e.next=9;break}if(1!=l){e.next=7;break}return e.abrupt("return");case 7:b().fire("Warning","<p>Our system has detected you are currently using Brave Web Browser.</p>\n                             <p>You will need to turn Brave Shields Down or open miner.elumicate.com with a different browser.</p>","warning"),u(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}))}),[]),(0,o.jsx)("div",{className:t,children:(0,o.jsxs)("div",{className:a.portalDiv,children:[(0,o.jsxs)("div",{className:a.imgdiv,onClick:function(){return n.push("https://www.elumicate.com/")},children:["dark"===r.colorScheme&&(0,o.jsx)("img",{className:a.imgstyle,src:"/images/logo/Elumicate-font-viga-black-logo-SMALL.png"}),"dark"!==r.colorScheme&&(0,o.jsx)("img",{className:a.imgstyle,src:"/images/logo/Elumicate-font-viga-white-logo-SMALL.png"})]}),(0,o.jsx)("div",{children:"Welcome to the"}),(0,o.jsx)("div",{style:{marginTop:-15},children:"Elumicate Mining Portal"}),(0,o.jsx)("div",{className:a.greenText,children:"Ready to start Mining?"}),(0,o.jsx)("div",{style:{height:10}}),(0,o.jsxs)("div",{className:a.infoText,children:[(0,o.jsx)("div",{children:"In order to view the portal you must have"}),(0,o.jsx)("div",{children:"a Metamask Wallet installed and"}),(0,o.jsx)("div",{children:"connected to the IoTex testnet."}),(0,o.jsx)("div",{className:a.connectbtn,onClick:function(){return c.setShowConnecter(!0)},children:(0,o.jsx)("img",{className:a.imgmetamaskstyle,src:"/images/logo/metamask.png"})}),(0,o.jsx)("div",{children:"You can find full details on how to get"}),(0,o.jsx)("div",{children:"started here."})]}),(0,o.jsx)("div",{className:a.btncolor,onClick:function(){n.push("https://whitepaper.elumicate.com/user-experience/testnet-onboarding")},children:"Open Whitepaper"})]})})}var y="@media (max-width: 755px)",S=(0,a.k)((function(e){return{wrapper:{position:"relative",boxSizing:"border-box",backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:"#ffffffdb",boxShadow:"dark"===e.colorScheme?"0px 0px 6px 6px #00000030":"0px 0px 6px 6px #ffffffdb"},inner:{position:"relative",paddingLeft:0,paddingRight:0,maxWidth:"none"},title:(0,n.Z)({fontFamily:"Proxima-Nova, ".concat(e.fontFamily),fontSize:62,fontWeight:900,lineHeight:1.1,margin:0,padding:0,color:"dark"===e.colorScheme?e.white:e.black},y,{fontSize:42,lineHeight:1.2}),description:(0,n.Z)({marginTop:e.spacing.xl,fontSize:24},y,{fontSize:18}),controls:(0,n.Z)({marginTop:2*e.spacing.xl},y,{marginTop:e.spacing.xl}),control:(0,n.Z)({height:54,paddingLeft:38,paddingRight:38},y,{height:54,paddingLeft:18,paddingRight:18,flex:1}),githubControl:{borderWidth:2,borderColor:"dark"===e.colorScheme?"transparent":e.colors.dark[9],backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:"transparent","&:hover":{backgroundColor:"".concat("dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0]," !important")}},paddingLeft:{paddingLeft:"36px"},loginMsgDiv:{width:"100%",height:"100%",fontSize:"2em",fontWeight:"bold",textAlign:"center"}}})),T=(c.O,(0,u.Pi)((function(e){var t=e.children,r=S().classes,n=(0,d.o)().god,i=((0,u.fv)((function(){return{showConnecter:function(){n.setShowConnecter(!0)},showWalletInfo:function(){n.currentNetwork.walletInfo.visible=!0},currentAvatar:1}})),(0,o.jsx)(u.Qj,{children:function(){return(0,o.jsx)(l.C,{children:(0,o.jsx)("div",{className:r.wrapper,children:(0,o.jsx)(s.W,{className:r.inner,children:n.currentNetwork.account?t:(0,o.jsx)(j,{className:r.loginMsgDiv})})})})}}));return(0,o.jsx)(o.Fragment,{children:i})})));T.displayName="HeroTitle";var C=T},2207:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return $}});var n=r(47568),o=r(34051),i=r.n(o),a=r(85893),c=r(75999),s=r(58067),l=r(91142),d=r(88852),u=r(33331),h=r(24242),f=r(9669),p=r.n(f),g=r(86455),m=r.n(g),x=r(31037),b=r(59411),v=r(67294),k=r(1686),w=r(71217),N=r(94184),j=r.n(N),y=r(44868),S=u.m.BACKEND_URL,T=(0,s.k)((function(e){return{NFTTable:{background:"white",color:"black",width:"100%"},thead:{borderBottom:"1px solid black"},orange:{backgroundColor:"rgb(255, 102, 0)"},th:{borderBottom:"1px solid black"},center:{textAlign:"center"},green:{color:"green"}}})),C=(0,w.Pi)((function(e){var t=T().classes,r=(0,h.o)(),n=r.auth,o=(r.god,(0,v.useState)(0)),i=o[0],c=o[1],s=(0,v.useState)(0),l=s[0],d=s[1],u=(0,v.useState)(0),f=u[0],p=u[1],g=(0,v.useState)("0"),m=g[0],x=g[1];return(0,v.useEffect)((function(){n.$().get("".concat(S,"/api/epoch/status")).then((function(e){var t=e.data;c(t.data.duration),d(t.data.miner),p(t.data.weight),console.log("getInformation",t),x((0,y.SF)(BigInt(t.data.reward)).toString())})).catch((function(e){c(0),d(0),p(0),x("0"),console.log("getInformation error",e)}))}),[]),(0,a.jsx)(k.Z,{label:"Overall Network Stats During last Epoch",headerClass:t.orange,children:(0,a.jsxs)("table",{className:t.NFTTable,children:[(0,a.jsx)("thead",{className:t.thead,children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:t.th,children:"Epoch Duration"},"1"),(0,a.jsx)("th",{className:t.th,children:"Active Miners"},"2"),(0,a.jsx)("th",{className:t.th,children:"Accumulated Weight Rating"},"3"),(0,a.jsx)("th",{className:t.th,children:"Epoch Rewards"},"4")]})}),(0,a.jsx)("tbody",{children:(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:j()(t.center,t.green),children:[i/60," Minutes"]},"1"),(0,a.jsx)("td",{className:t.center,children:l},"2"),(0,a.jsx)("td",{className:t.center,children:Math.round(f/3600*100)/100},"3"),(0,a.jsxs)("td",{className:t.center,children:[m," ELUM"]},"4")]})})]})})})),z=r(14924),E=r(49497),O=r(68129),_=r(92386),F=(0,s.k)((function(e){return{header:{color:"white",backgroundColor:"rgb(106, 106, 106)",fontSize:".9rem",textAlign:"center",marginBottom:2,whiteSpace:"nowrap"},elum:{fontSize:".9rem",textAlign:"center",marginTop:2,whiteSpace:"nowrap"},root:(0,z.Z)({flexGrow:1,flexShrink:1},"@media (max-width: 992px)",{width:0,overflow:"hidden"})}})),M=(0,w.Pi)((function(e){var t=F().classes;return(0,a.jsxs)("div",{className:t.root,children:[(0,a.jsx)(_.Z,{label:e.label,className:t.header}),(0,a.jsx)(_.Z,{label:e.token,className:t.elum})]})})),A=(u.m.BACKEND_URL,"@media (max-width: 992px)"),P=(0,s.k)((function(e){return{NFTTable:{background:"white",color:"black",width:"100%"},thead:{position:"sticky",top:0,backgroundColor:e.white,transition:"box-shadow 150ms ease","&::after":{content:'""',position:"absolute",left:0,right:0,bottom:0,borderBottom:"1px solid ".concat("dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[2])}},orange:{backgroundColor:"rgb(255, 102, 0)"},th:{textAlign:"center !important",color:"black !important"},center:{textAlign:"center"},green:{color:"green"},centerAlign:{display:"flex",alignItems:"center",justifyContent:"center",height:"36px"},imgStyle:{height:30,transform:"translate(0px, 2px)"},minerName:{position:"absolute",top:3,paddingRight:5,backgroundColor:"black",left:8,display:"flex",alignItems:"center",justifyContent:"center"},body:(0,z.Z)({display:"flex",width:"100%"},A,{display:"block"}),leftChild:{flexGrow:1,flexShrink:1},rightChild:(0,z.Z)({width:130,marginLeft:10},A,{display:"flex",width:"100%",marginLeft:0,marginTop:5}),spliter:(0,z.Z)({height:2},A,{width:2}),scrolled:{boxShadow:e.shadows.sm}}})),I=(0,w.Pi)((function(e){(0,h.o)().auth;var t=P(),r=t.classes,n=t.cx,o=(0,v.useState)(!1),i=o[0],c=o[1],s=function(e){return Math.round(1e4*e)/1e4+""};return(0,a.jsx)(k.Z,{label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:r.centerAlign,children:(0,a.jsx)("span",{children:"Historical Rewards"})}),(0,a.jsxs)("div",{className:r.minerName,children:[(0,a.jsx)("img",{src:"/images/status/working.png",className:r.imgStyle}),e.nft_id]})]}),children:(0,a.jsxs)("div",{className:r.body,children:[(0,a.jsx)("div",{className:r.leftChild,children:(0,a.jsx)(E.x,{sx:{height:"180px",width:"100%"},onScrollPositionChange:function(e){var t=e.y;return c(0!==t)},children:(0,a.jsxs)(O.i,{className:r.NFTTable,children:[(0,a.jsx)("thead",{className:n(r.thead,(0,z.Z)({},r.scrolled,i)),children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:r.th,children:"Epoch Time"},"1"),(0,a.jsx)("th",{className:r.th,children:"Mining Time"},"2"),(0,a.jsx)("th",{className:r.th,children:"Multiplier"},"3"),(0,a.jsx)("th",{className:r.th,children:"Epoch Reward"},"4")]})}),(0,a.jsx)("tbody",{children:e.info.map((function(e,t){return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:j()(r.center,r.green),children:(0,y.t3)(e.epoch)},"1"),(0,a.jsxs)("td",{className:r.center,children:[e.uptime/60," Minutes"]},"2"),(0,a.jsxs)("td",{className:r.center,children:["X ",e.multiplier/1e4]},"3"),(0,a.jsxs)("td",{className:r.center,children:[null==e.reward?0:(0,y.SF)(BigInt(e.reward))," ELUM"]},"4")]},t)}))})]})})}),(0,a.jsxs)("div",{className:r.rightChild,children:[(0,a.jsx)(M,{label:"Past Day",token:s(e.history[0])}),(0,a.jsx)("div",{className:r.spliter}),(0,a.jsx)(M,{label:"Past Week",token:s(e.history[1])}),(0,a.jsx)("div",{className:r.spliter}),(0,a.jsx)(M,{label:"Past Month",token:s(e.history[2])})]})]})})})),L=u.m.BACKEND_URL,R=(0,s.k)((function(e){return{}})),B=(0,w.Pi)((function(e){R().classes;var t=(0,h.o)(),r=t.god,n=t.auth,o=(0,v.useState)([]),i=o[0],c=o[1];return(0,v.useEffect)((function(){n.$().post("".concat(L,"/api/device_uptime/getUpTimeInfo"),{address:r.currentNetwork.account}).then((function(e){var t=e.data,r=t.data,n={};r.forEach((function(e){null==n[e.nft_id]&&(n[e.nft_id]={},n[e.nft_id].list=[],n[e.nft_id].history=[]),n[e.nft_id].list.push(e)})),t.rewardHistory.data.forEach((function(e){e.forEach((function(e){void 0!=n[e.nft_id]&&n[e.nft_id].history.push(parseInt(e.reward_info)/Math.pow(10,t.rewardHistory.precision))}))})),c(Object.keys(n).map((function(e){return{nft_id:e,info:n[e].list.sort((function(e,t){return t.epoch-e.epoch})),history:n[e].history}})))})).catch((function(e){console.error(e)}))}),[r.currentNetwork.account]),(0,a.jsx)(a.Fragment,{children:i.map((function(e){return(0,a.jsx)(I,{nft_id:e.nft_id,info:e.info,history:e.history})}))})})),Z=r(11163),D=(r(18699).getWindow().ethereum,u.m.BACKEND_URL),W=(0,s.k)((function(e){return{progressBar:{"&:not(:first-of-type)":{borderLeft:"3px solid ".concat("dark"===e.colorScheme?e.colors.dark[7]:e.white)}},NFTTable:{background:"white",color:"black",width:"100%"},green:{color:"green"},center:{textAlign:"center"},button:{marginLeft:10,marginRight:10},thead:{borderBottom:"1px solid black"},th:{borderBottom:"1px solid black"},btn_th:{width:110},info:{marginBottom:15},link:{cursor:"pointer",color:"rgb(190, 190, 255)"}}})),$=(0,w.Pi)((function(){var e=W().classes,t=(0,h.o)(),r=t.god,o=t.auth,s=t.nft,f=(0,Z.useRouter)(),g=(0,v.useState)(!1),w=g[0],N=g[1],j=(0,v.useState)([]),y=j[0],S=j[1],T=(0,v.useState)(!1),z=T[0],E=T[1],O=(0,v.useState)(null),_=O[0],F=(O[1],function(){A(),M()});(0,v.useEffect)((function(){s.refresh(),F()}),[r.currentNetwork.account]),(0,v.useEffect)((function(){if(0!=z){var e=R();"-1"==e&&(e=null);y.length;-1!=e&&I(e)}}),[z,y]);var M=function(){var e="".concat(u.m.DEVICE_URL,"/get_status");p().get(e).then((function(e){var t=e.data;"an error has occured"==t.message?E(!1):o.$().post("".concat(D,"/api/nft_auth/verifySignature"),{signature:t.signature}).then((function(e){"OK"===e.data.status?E(!1):E(!0)})).catch((function(e){E(!0)}))})).catch((function(e){E(!1)}))},A=function(){s.getNFTLists().then(function(){var e=(0,n.Z)(i().mark((function e(t){var r,n,a,c,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t,n=[],a=0;case 3:if(!(a<r.length)){e.next=19;break}return c=r[a].toString(),e.prev=5,e.next=8,o.$().post("".concat(D,"/api/nft_auth/status"),{nft_id:c});case 8:s=e.sent,l=s.data.data,n.push({NFT:l.nft_id,Active:l.active,Connection:l.session?"Assigned":"Not assigned"}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),n.push({NFT:parseInt(c),Active:!1,Connection:"Not assigned"});case 16:a++,e.next=3;break;case 19:S(n);case 20:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(){S([])}))};(0,v.useEffect)((function(){var e=setInterval((function(){M()}),2e3);return function(){clearInterval(e)}}),[]);var P=function(){var e=(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.Kt,e.prev=1,e.next=4,r.currentNetwork.execContract({address:t,abi:x.Mt,method:"balanceOf",params:[r.currentNetwork.account]});case 4:if(!(e.sent[0]>0)){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();(0,v.useEffect)((function(){P().then((function(e){N(!0)})).catch((function(e){N(!1)}))}),[r.currentNetwork.account]);var I=function(e){if(!1!==w)if(void 0==e&&(e=_),null==e&&"-1"!=R()&&(e=R()),null!=e){var t=function(){o.$().post("".concat(D,"/api/nft_auth/create"),{address:r.currentNetwork.account,nft_id:e}).then((function(t){if("success"==t.data.status){m().fire({title:"Success",html:"<p>Secure Miner Connection Success</p>",icon:"success"}),F();var n="".concat(u.m.DEVICE_URL,"/set_signature"),o=r.currentNetwork.account,i=e,a=t.data.camera.link,c="P"+(t.data.camera.tableid+1)+t.data.camera.id;p().post(n,{signature:t.data.session,nftID:i,wallet:o,link:a,location_id:c},{})}else m().fire({title:"Error",html:"<p>No assignable miners</p>",icon:"error"})})).catch((function(e){m().fire({title:"Error",html:"<p>Errors occured while securing miner connection</p>",icon:"error"})}))};o.check_auth((function(){t()}),(function(){o.login((function(){t()}),(function(){m().fire({title:"Error",html:"<p>Errors Occured while login.</p>",icon:"error"})}))}))}else m().fire("Info","<p>You need to choose an NFT to secure your Mining Connection.</p>","info");else m().fire("Error",'<p>You do not have an NFT to secure your Mining Connection.</p>\n                 <p>Please obtain a mining NFT and try again.</p>\n                 <p><a href="/nft/">Buy NFT</a></p>',"warning")},L=function(){return y.filter((function(e){return"Not assigned"==e.Connection})).map((function(e){return{value:e.NFT.toString(),label:"NFT "+e.NFT.toString(),group:"Testnet Miner"}}))},R=function(){var e=L();return 0==e.length?"-1":e[0].value};if(s.loading)return(0,a.jsx)(c.Z,{children:(0,a.jsx)(l.a,{})});return(0,a.jsxs)(c.Z,{children:[y.length>0&&0==L().length&&(0,a.jsx)("div",{className:e.info,children:"You have no available NFTs to secure a new connection. Click Replace Miner to release your current NFT's signature, or Purchase more NFTs to add more miners."}),0==y.length&&(0,a.jsxs)("div",{className:e.info,children:["You need NFT in order to secure your mining connection.\xa0",(0,a.jsx)("span",{className:e.link,onClick:function(){f.push("/nft")},children:"Click here to buy your NFT"})]}),(0,a.jsx)(k.Z,{label:"My Miners",children:(0,a.jsxs)("table",{className:e.NFTTable,children:[(0,a.jsx)("thead",{className:e.thead,children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:e.th,children:"Miner Status (Updated every 5 minutes)"},"1"),(0,a.jsx)("th",{className:e.th,children:"NFT Status"},"2"),(0,a.jsx)("th",{className:e.th,children:"NFT ID"},"3"),(0,a.jsx)("th",{className:"".concat(e.th," ").concat(e.btn_th),children:"\xa0\xa0"},"4")]})}),(0,a.jsx)("tbody",{children:0==y.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,rowSpan:1,style:{textAlign:"center"},children:"No miners currently assigned."})},0):y.map((function(t,n){return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:e.center,children:1==t.Active?"Active":"Not Active"},"1"),(0,a.jsx)("td",{className:"".concat(e.green," ").concat(e.center),children:t.Connection},"2"),(0,a.jsx)("td",{className:"".concat(e.green," ").concat(e.center),children:(0,a.jsx)("div",{children:t.NFT})},"3"),(0,a.jsx)("td",{children:(0,a.jsx)("div",{children:"Assigned"===t.Connection&&(0,a.jsx)(d.z,{onClick:function(){return function(e){var t=function(){o.$().post("".concat(D,"/api/nft_auth/remove"),{address:r.currentNetwork.account,nft_id:e}).then((function(t){"success"===t.data.status?I(e):m().fire({title:"Error",html:"<p>Errors Occured while removing connection.</p>",icon:"error"})})).catch((function(e){m().fire({title:"Error",html:"<p>Errors Occured while removing connection.</p>",icon:"error"})}))};o.check_auth((function(){t()}),(function(){o.login((function(){t()}),(function(){m().fire({title:"Error",html:"<p>Errors Occured while login.</p>",icon:"error"})}))}))}(t.NFT)},className:e.button,disabled:!1===z,size:"xs",children:"Replace Miner"})})})]},n)}))})]})}),(0,a.jsx)(C,{}),(0,a.jsx)(B,{})]})}))},44868:function(e,t,r){"use strict";r.d(t,{Cm:function(){return i},Hk:function(){return l},MZ:function(){return s},SF:function(){return a},WJ:function(){return u},mr:function(){return d},t3:function(){return c}});var n=r(59411),o=r(33331).m.TOKEN_UNIT;function i(e){return e.substring(0,6)+"..."+e.substring(e.length-4)}function a(e){return parseInt((e/(o/BigInt(1e4))).toString())/1e4}function c(e){var t=new Date(3600*e*1e3),r=new Date(3600*(e+1)*1e3);new Date;return t.toLocaleTimeString()+" - "+r.toLocaleTimeString()}function s(){return i(n.Kt)}function l(e){return new Date(1e3*e).toLocaleString()}function d(e){for(var t=[1,60,3600,86400],r=["s","m","h","d"],n=[],o=t.length-1;o>=0;o--)n[o]=Math.floor(e/t[o]),e-=n[o]*t[o];for(var i=0,a="",c=t.length-1;c>=0&&!(n[c]>0&&(a+="".concat(n[c]).concat(r[c]),2==++i));c--);return""==a&&(a="0s"),a}function u(e){return e/1e4+"x"}}}]);