(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[447],{78364:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nft",function(){return n(44447)}])},75066:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(14924),a=n(85893),i=(n(67294),n(58067)),o=n(68940),s=n(3857),u=n(76867),l=n(5074),p=n(31567),c=n(93725),d="@media (max-width: 755px)",y=(0,i.k)((function(e){return{wrapper:{position:"relative",boxSizing:"border-box",backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:e.white},inner:{position:"relative"},title:(0,r.Z)({fontFamily:"Greycliff CF, ".concat(e.fontFamily),fontSize:62,fontWeight:900,lineHeight:1.1,margin:0,padding:0,color:"dark"===e.colorScheme?e.white:e.black},d,{fontSize:42,lineHeight:1.2}),description:(0,r.Z)({marginTop:e.spacing.xl,fontSize:24},d,{fontSize:18}),controls:(0,r.Z)({marginTop:2*e.spacing.xl},d,{marginTop:e.spacing.xl}),control:(0,r.Z)({height:54,paddingLeft:38,paddingRight:38},d,{height:54,paddingLeft:18,paddingRight:18,flex:1}),githubControl:{borderWidth:2,borderColor:"dark"===e.colorScheme?"transparent":e.colors.dark[9],backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:"transparent","&:hover":{backgroundColor:"".concat("dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0]," !important")}},paddingLeft:{paddingLeft:"36px"}}}));o.O;function f(e){var t=e.children,n=((0,c.o)().lang,y()),r=n.classes;n.cx,(0,s.rZ)(),(0,p.$)().t;return(0,a.jsx)(l.C,{children:(0,a.jsx)("div",{className:r.wrapper,children:(0,a.jsx)(u.W,{className:r.inner,children:t})})})}},18699:function(e){"use strict";e.exports={getWindow:function(){return window}}},44447:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var r=n(47568),a=n(34051),i=n.n(a),o=n(85893),s=n(67294),u=n(75066),l=n(58067),p=n(13131),c=n(50112),d=n(53365),y=n(49497),f=n(68129),m=n(51223),x=n(88852),h=n(10253),b=n(55798),g=n(64146),S=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"_token_address","type":"address"},{"internalType":"uint256","name":"_maxNormalSupply","type":"uint256"},{"internalType":"uint256","name":"_priceNormalNFT","type":"uint256"},{"internalType":"uint256","name":"_maxSpecialSupply","type":"uint256"},{"internalType":"uint256","name":"_priceSpecialNFT","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"normalNFT","type":"uint256"},{"internalType":"uint256","name":"specialNFT","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"insertWhiteList","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"isWhiteLists","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxNormalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSpecialSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceNormalNFT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceSpecialNFT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"removeWhiteList","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxNormalSupply","type":"uint256"}],"name":"setMaxNormalSupply","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxSpecialSupply","type":"uint256"}],"name":"setMaxSpecialSupply","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_priceNormalNFT","type":"uint256"}],"name":"setNormalPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_priceSpecialNFT","type":"uint256"}],"name":"setSpecialPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token_address","type":"address"}],"name":"setTokenAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalNormalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSpecialSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_normalNFTCnt","type":"uint256"},{"internalType":"uint256","name":"_specialNFTCnt","type":"uint256"},{"internalType":"address","name":"to","type":"address"}],"name":"transferNFT","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_normalNFTCnt","type":"uint256"},{"internalType":"uint256","name":"_specialNFTCnt","type":"uint256"}],"name":"verifyNFT","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"payable","type":"function"}]}'),T=JSON.parse('{"Sm":"0xa6b63544177B99b05e41b88F01067ee5bba617ed"}'),v=n(93725),N=n(18699).getWindow().ethereum,w=n(18699);function k(e){var t=e.onStatus,a=(0,v.o)().god,u=null,l=null,p=function(){var e=(0,r.Z)(i().mark((function e(){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.currentNetwork.account,u==n){e.next=8;break}if(k(),void 0!==n){e.next=5;break}return e.abrupt("return",m());case 5:d(n),e.next=36;break;case 8:if(null==u){e.next=36;break}return e.next=11,w._NFT.balanceOf(u);case 11:return r=e.sent,e.next=14,w._NFT.priceNormalNFT();case 14:return e.t0=e.sent.toString(),e.next=17,w._NFT.totalNormalSupply();case 17:return e.t1=e.sent.toString(),e.next=20,w._NFT.maxNormalSupply();case 20:return e.t2=e.sent.toString(),e.t3=r[0].toString(),e.t4={type:"NormalNFT",price:e.t0,totalSupply:e.t1,maxSupply:e.t2,balance:e.t3},e.next=25,w._NFT.priceSpecialNFT();case 25:return e.t5=e.sent.toString(),e.next=28,w._NFT.totalSpecialSupply();case 28:return e.t6=e.sent.toString(),e.next=31,w._NFT.maxSpecialSupply();case 31:e.t7=e.sent.toString(),e.t8=r[1].toString(),e.t9={type:"SpecialNFT",price:e.t5,totalSupply:e.t6,maxSupply:e.t7,balance:e.t8},o=[e.t4,e.t9],t({account:u,Info:o});case 36:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("4690"!==N.networkVersion){e.next=2;break}return e.abrupt("return",!0);case 2:return"Please connect Metamask to IoTex Network",e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("_initialize called",t),u=t,y(),x();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=new b.Web3Provider(N),console.log("getsigner",l.getSigner()),w._NFT=new g.Contract(T.Sm,S.Mt,l.getSigner(0));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.currentNetwork.account,console.log("selectedAddress",t),c()){e.next=4;break}return e.abrupt("return");case 4:d(t),console.log("init working"),N.on("accountsChanged",(function(e){var t=(0,h.Z)(e,1)[0];if(k(),void 0===t)return m();d(t)})),N.on("chainChanged",(function(e){(0,h.Z)(e,1)[0];k(),m()}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){u=null,""},x=function(){k(),n(18699)._pollDataInterval=setInterval((function(){return p()}),1e3),p()},k=function(){void 0!=n(18699)._pollDataInterval&&clearInterval(n(18699)._pollDataInterval),n(18699)._pollDataInterval=void 0};return(0,s.useEffect)((function(){console.log("connect wallet called"),f()}),[]),(0,o.jsx)(o.Fragment,{})}var F=n(55550),_=(0,l.k)((function(e,t){var n=t.floating;return{root:{position:"relative"},label:{position:"absolute",zIndex:2,top:7,left:e.spacing.sm,pointerEvents:"none",color:n?"dark"===e.colorScheme?e.white:e.black:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5],transition:"transform 150ms ease, color 150ms ease, font-size 150ms ease",transform:n?"translate(-".concat(e.spacing.sm,"px, -28px)"):"none",fontSize:n?e.fontSizes.xs:e.fontSizes.sm,fontWeight:n?500:400},required:{transition:"opacity 150ms ease",opacity:n?1:0},input:{"&::placeholder":{transition:"color 150ms ease",color:n?void 0:"transparent"}}}}));function j(e){var t=e.label,n=e.placeholder,r=e.onChange,a=(0,s.useState)(!1),i=a[0],u=a[1],l=(0,s.useState)(""),p=l[0],c=l[1],d=_({floating:0!==p.trim().length||i}).classes;return(0,o.jsx)(F.o,{label:t,placeholder:n,required:!0,classNames:d,value:p,onChange:function(e){c(e.currentTarget.value),r(e.currentTarget.value)},onFocus:function(){return u(!0)},onBlur:function(){return u(!1)},mt:"md",autoComplete:"nope"})}var M=n(86455),C=n.n(M),z=n(44431),E=n(18699),I=(0,l.k)((function(e){return{progressBar:{"&:not(:first-of-type)":{borderLeft:"3px solid ".concat("dark"===e.colorScheme?e.colors.dark[7]:e.white)}},root:{position:"relative"},input:{height:"auto",paddingTop:18},label:{position:"absolute",pointerEvents:"none",fontSize:e.fontSizes.xs,paddingLeft:e.spacing.sm,paddingTop:e.spacing.sm/2,zIndex:1},gridDiv:{alignItems:"center",justifyContent:"center",marginTop:"10px"},gridDivBtn:{marginTop:"16px"}}}));function Z(){var e=I(),t=e.classes,n=e.theme,a=(0,s.useState)([]),l=a[0],h=a[1],b=(0,s.useState)(null),g=b[0],S=b[1],T=(0,s.useState)(!1),v=(T[0],T[1],(0,s.useState)(1)),N=v[0],w=(v[1],(0,s.useState)(0)),F=w[0],_=(w[1],(0,s.useState)(1)),M=_[0],Z=(_[1],(0,s.useState)(0)),W=Z[0],O=(Z[1],(0,s.useState)(0)),P=O[0],B=O[1],D=l.filter((function(e,t){return 0==t})).map((function(e){var r=e.maxSupply-e.totalSupply,a=100*e.totalSupply/Math.max(1,e.maxSupply),i=100-a;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:"NormalNFT"==e.type?"Public Pool NFT":""}),(0,o.jsx)("td",{children:e.price}),(0,o.jsx)("td",{children:e.maxSupply?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(p.Z,{position:"apart",children:[(0,o.jsxs)(c.x,{size:"xs",color:"teal",weight:700,children:[e.totalSupply," using"]}),(0,o.jsxs)(c.x,{size:"xs",color:"red",weight:700,children:[r," left"]})]}),(0,o.jsx)(d.E,{classNames:{bar:t.progressBar},sections:[{value:a,color:"dark"===n.colorScheme?n.colors.teal[9]:n.colors.teal[6]},{value:i,color:"dark"===n.colorScheme?n.colors.red[9]:n.colors.red[6]}]})]}):"no supply"}),(0,o.jsx)("td",{children:e.balance>0?"Yes":"No"})]},e.type)})})),L=function(){var e=(0,r.Z)(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=parseInt(M.toString()),n=parseInt(W.toString()),console.log("normal",t),console.log("special",n),console.log("wallet",P),!(t<0||n<0||t+n==0)){e.next=8;break}return C().fire("Error!","Transfer Number Should Be Positive.","error"),e.abrupt("return");case 8:if(0!=P){e.next=11;break}return C().fire("Error!","Wallet cannot be empty.","error"),e.abrupt("return");case 11:return r=E._NFT.transferNFT(t,n,P),e.prev=12,e.next=15,r;case 15:if(0!=(a=e.sent).status){e.next=20;break}C().fire("Error!","Action failed","error"),e.next=23;break;case 20:return e.next=22,a.wait();case 22:C().fire("Awesome!","You transfered NFTs!","success");case 23:e.next=34;break;case 25:if(e.prev=25,e.t0=e.catch(12),4001,4001!==e.t0.code){e.next=33;break}return C().fire("Error!","You rejected transaction.","error"),e.abrupt("return");case 33:C().fire("Error!","Something went wrong.","error");case 34:case"end":return e.stop()}}),e,null,[[12,25]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,r.Z)(i().mark((function e(){var t,n,r,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=parseInt(N.toString()),n=parseInt(F.toString()),r=-1,a=-1,l.forEach((function(e,t){"NormalNFT"==e.type?r=e.price:"SpecialNFT"==e.type&&(a=e.price)})),-1!=r){e.next=7;break}return console.log("not received price data"),e.abrupt("return");case 7:return o=new z("".concat(o=t*r+n*a,"e18")),s=E._NFT.verifyNFT(t,n,{value:o.toString(),from:g}),e.prev=10,e.next=13,s;case 13:if(0!=(u=e.sent).status){e.next=18;break}C().fire("Error!","Action failed","error"),e.next=21;break;case 18:return e.next=20,u.wait();case 20:C().fire("Awesome!","You bought NFTs!","success");case 21:e.next=32;break;case 23:if(e.prev=23,e.t0=e.catch(10),4001,4001!==e.t0.code){e.next=31;break}return C().fire("Error!","You rejected transaction.","error"),e.abrupt("return");case 31:C().fire("Error!","Something went wrong.","error");case 32:case"end":return e.stop()}}),e,null,[[10,23]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){return!!l[0]&&l[0].balance>0};return(0,o.jsxs)(u.Z,{children:[(0,o.jsxs)(y.x,{children:[(0,o.jsx)(k,{onStatus:function(e){h(e.Info),S(e.account)}}),(0,o.jsxs)(f.i,{sx:{minWidth:800},verticalSpacing:"xs",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Type"}),(0,o.jsx)("th",{children:"Price"}),(0,o.jsx)("th",{children:"Supply"}),(0,o.jsx)("th",{children:"Owned"})]})}),(0,o.jsx)("tbody",{children:D})]})]}),(0,o.jsxs)(m.M,{cols:4,breakpoints:[{maxWidth:"xl",cols:4},{maxWidth:"md",cols:4},{maxWidth:"sm",cols:2}],className:t.gridDiv,children:[(0,o.jsx)(x.z,{disabled:Y(),onClick:A,className:t.gridDivBtn,children:"Buy NFT"}),(0,o.jsx)("div",{}),(0,o.jsx)(j,{onChange:B,label:"Wallet Address",placeholder:"Input an wallet address."}),(0,o.jsx)(x.z,{disabled:!Y(),onClick:L,className:t.gridDivBtn,children:"Transfer NFT"})]})]})}}},function(e){e.O(0,[23,679,739,774,888,179],(function(){return t=78364,e(e.s=t);var t}));var t=e.O();_N_E=t}]);