(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[447],{78364:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nft",function(){return n(55451)}])},75999:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(14924),a=n(85893),i=(n(67294),n(58067)),o=n(68940),s=n(76867),u=n(5074),c=n(93725),p=n(71217);function l(e){var t=e.className;return(0,a.jsxs)("div",{className:t,children:["Welcome to Elumicate DApp!",(0,a.jsx)("br",{}),"Please login with your Metamask to access the site."]})}var d="@media (max-width: 755px)",f=(0,i.k)((function(e){return{wrapper:{position:"relative",boxSizing:"border-box",backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:"#ffffffdb",boxShadow:"dark"===e.colorScheme?"0px 0px 6px 6px #00000030":"0px 0px 6px 6px #ffffffdb"},inner:{position:"relative",paddingLeft:0,paddingRight:0,maxWidth:"none"},title:(0,r.Z)({fontFamily:"Proxima-Nova, ".concat(e.fontFamily),fontSize:62,fontWeight:900,lineHeight:1.1,margin:0,padding:0,color:"dark"===e.colorScheme?e.white:e.black},d,{fontSize:42,lineHeight:1.2}),description:(0,r.Z)({marginTop:e.spacing.xl,fontSize:24},d,{fontSize:18}),controls:(0,r.Z)({marginTop:2*e.spacing.xl},d,{marginTop:e.spacing.xl}),control:(0,r.Z)({height:54,paddingLeft:38,paddingRight:38},d,{height:54,paddingLeft:18,paddingRight:18,flex:1}),githubControl:{borderWidth:2,borderColor:"dark"===e.colorScheme?"transparent":e.colors.dark[9],backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:"transparent","&:hover":{backgroundColor:"".concat("dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0]," !important")}},paddingLeft:{paddingLeft:"36px"},loginMsgDiv:{width:"100%",height:"100%",fontSize:"2em",fontWeight:"bold",textAlign:"center"}}})),y=(o.O,(0,p.Pi)((function(e){var t=e.children,n=f().classes,r=(0,c.o)().god,i=((0,p.fv)((function(){return{showConnecter:function(){r.setShowConnecter(!0)},showWalletInfo:function(){r.currentNetwork.walletInfo.visible=!0},currentAvatar:1}})),(0,p.SZ)((function(){return(0,a.jsx)(u.C,{children:(0,a.jsx)("div",{className:n.wrapper,children:(0,a.jsx)(s.W,{className:n.inner,children:r.currentNetwork.account?t:(0,a.jsx)(l,{className:n.loginMsgDiv})})})})})));return(0,a.jsx)(a.Fragment,{children:i})})));y.displayName="HeroTitle";var m=y},55451:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var r=n(47568),a=n(34051),i=n.n(a),o=n(85893),s=n(67294),u=n(75999),c=n(58067),p=n(13131),l=n(50112),d=n(53365),f=n(49497),y=n(88852),m=n(68129),x=n(51223),h=n(10253),b=n(55798),g=n(64146),S=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"_token_address","type":"address"},{"internalType":"uint256","name":"_maxNormalSupply","type":"uint256"},{"internalType":"uint256","name":"_priceNormalNFT","type":"uint256"},{"internalType":"uint256","name":"_maxSpecialSupply","type":"uint256"},{"internalType":"uint256","name":"_priceSpecialNFT","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"normalNFT","type":"uint256"},{"internalType":"uint256","name":"specialNFT","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"insertWhiteList","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"isWhiteLists","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxNormalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSpecialSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceNormalNFT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceSpecialNFT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"removeWhiteList","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxNormalSupply","type":"uint256"}],"name":"setMaxNormalSupply","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxSpecialSupply","type":"uint256"}],"name":"setMaxSpecialSupply","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_priceNormalNFT","type":"uint256"}],"name":"setNormalPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_priceSpecialNFT","type":"uint256"}],"name":"setSpecialPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token_address","type":"address"}],"name":"setTokenAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalNormalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSpecialSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_normalNFTCnt","type":"uint256"},{"internalType":"uint256","name":"_specialNFTCnt","type":"uint256"},{"internalType":"address","name":"to","type":"address"}],"name":"transferNFT","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_normalNFTCnt","type":"uint256"},{"internalType":"uint256","name":"_specialNFTCnt","type":"uint256"}],"name":"verifyNFT","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"payable","type":"function"}]}'),T=JSON.parse('{"Sm":"0xa6b63544177B99b05e41b88F01067ee5bba617ed"}'),v=n(93725),N=n(18699).getWindow().ethereum,w=n(18699);function k(e){var t=e.onStatus,a=(0,v.o)().god,u=null,c=null,p=function(){var e=(0,r.Z)(i().mark((function e(){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.currentNetwork.account,u==n){e.next=8;break}if(k(),void 0!==n){e.next=5;break}return e.abrupt("return",m());case 5:d(n),e.next=36;break;case 8:if(null==u){e.next=36;break}return e.next=11,w._NFT.balanceOf(u);case 11:return r=e.sent,e.next=14,w._NFT.priceNormalNFT();case 14:return e.t0=e.sent.toString(),e.next=17,w._NFT.totalNormalSupply();case 17:return e.t1=e.sent.toString(),e.next=20,w._NFT.maxNormalSupply();case 20:return e.t2=e.sent.toString(),e.t3=r[0].toString(),e.t4={type:"NormalNFT",price:e.t0,totalSupply:e.t1,maxSupply:e.t2,balance:e.t3},e.next=25,w._NFT.priceSpecialNFT();case 25:return e.t5=e.sent.toString(),e.next=28,w._NFT.totalSpecialSupply();case 28:return e.t6=e.sent.toString(),e.next=31,w._NFT.maxSpecialSupply();case 31:e.t7=e.sent.toString(),e.t8=r[1].toString(),e.t9={type:"SpecialNFT",price:e.t5,totalSupply:e.t6,maxSupply:e.t7,balance:e.t8},o=[e.t4,e.t9],t({account:u,Info:o});case 36:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("4690"!==N.networkVersion){e.next=2;break}return e.abrupt("return",!0);case 2:return"Please connect Metamask to IoTex Network",e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=t,f(),x();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=new b.Web3Provider(N),w._NFT=new g.Contract(T.Sm,S.Mt,c.getSigner(0));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.currentNetwork.account,l()){e.next=3;break}return e.abrupt("return");case 3:d(t),N.on("accountsChanged",(function(e){var t=(0,h.Z)(e,1)[0];if(k(),void 0===t)return m();d(t)})),N.on("chainChanged",(function(e){(0,h.Z)(e,1)[0];k(),m()}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){u=null,""},x=function(){k(),n(18699)._pollDataInterval=setInterval((function(){return p()}),1e3),p()},k=function(){void 0!=n(18699)._pollDataInterval&&clearInterval(n(18699)._pollDataInterval),n(18699)._pollDataInterval=void 0};return(0,s.useEffect)((function(){y()}),[]),(0,o.jsx)(o.Fragment,{})}var F=n(86455),_=n.n(F),j=n(9669),M=n.n(j),C=n(10672),E=(0,c.k)((function(e){return{Loader:{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%,-50%)"}}}));function I(){var e=E().classes;return(0,o.jsx)("div",{className:e.Loader,children:(0,o.jsx)(C.iT,{color:"#00BFFF",height:40,width:40,strokeWidth:7})})}var W=n(44431),Z=n(18699),O=(0,c.k)((function(e){return{progressBar:{"&:not(:first-of-type)":{borderLeft:"3px solid ".concat("dark"===e.colorScheme?e.colors.dark[7]:e.white)}},root:{position:"relative"},input:{height:"auto",paddingTop:18},label:{position:"absolute",pointerEvents:"none",fontSize:e.fontSizes.xs,paddingLeft:e.spacing.sm,paddingTop:e.spacing.sm/2,zIndex:1},gridDiv:{alignItems:"center",justifyContent:"center",marginTop:"10px"},gridDivBtn:{marginTop:"16px"},marginBottom:{marginBottom:"10px"}}}));function z(){var e=O(),t=e.classes,n=e.theme,a=(0,v.o)().god,c=(0,s.useState)([]),h=c[0],b=c[1],g=(0,s.useState)(null),S=g[0],T=g[1],N=(0,s.useState)(!1),w=(N[0],N[1],(0,s.useState)(1)),F=w[0],j=(w[1],(0,s.useState)(0)),C=j[0],E=(j[1],(0,s.useState)(1)),z=E[0],P=(E[1],(0,s.useState)(0)),B=P[0],D=(P[1],(0,s.useState)(0)),L=D[0],A=(D[1],(0,s.useState)(!0)),Y=A[0],H=A[1],R=h.filter((function(e,t){return 0==t})).map((function(e){var r=e.maxSupply-e.totalSupply,a=100*e.totalSupply/Math.max(1,e.maxSupply),i=100-a;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:"NormalNFT"==e.type?"Public Pool NFT":""}),(0,o.jsx)("td",{children:e.price}),(0,o.jsx)("td",{children:e.maxSupply?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(p.Z,{position:"apart",children:[(0,o.jsxs)(l.x,{size:"xs",color:"teal",weight:700,children:[e.totalSupply," sold"]}),(0,o.jsxs)(l.x,{size:"xs",color:"red",weight:700,children:[r," left"]})]}),(0,o.jsx)(d.E,{classNames:{bar:t.progressBar},sections:[{value:a,color:"dark"===n.colorScheme?n.colors.teal[9]:n.colors.teal[6]},{value:i,color:"dark"===n.colorScheme?n.colors.red[9]:n.colors.red[6]}]})]}):"no supply"}),(0,o.jsx)("td",{children:e.balance>0?"Yes":"No"})]},e.type)})})),J=(function(){var e=(0,r.Z)(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=parseInt(z.toString()),n=parseInt(B.toString()),!(t<0||n<0||t+n==0)){e.next=5;break}return _().fire("Error!","Transfer Number Should Be Positive.","error"),e.abrupt("return");case 5:if(0!=L){e.next=8;break}return _().fire("Error!","Wallet cannot be empty.","error"),e.abrupt("return");case 8:return r=Z._NFT.transferNFT(t,n,L),e.prev=9,e.next=12,r;case 12:if(0!=(a=e.sent).status){e.next=17;break}_().fire("Error!","Action failed","error"),e.next=20;break;case 17:return e.next=19,a.wait();case 19:_().fire("Awesome!","You transfered NFTs!","success");case 20:e.next=31;break;case 22:if(e.prev=22,e.t0=e.catch(9),4001,4001!==e.t0.code){e.next=30;break}return _().fire("Error!","You rejected transaction.","error"),e.abrupt("return");case 30:_().fire("Error!","Something went wrong.","error");case 31:case"end":return e.stop()}}),e,null,[[9,22]])})))}(),function(){var e=(0,r.Z)(i().mark((function e(){var t,n,r,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=parseInt(F.toString()),n=parseInt(C.toString()),r=-1,a=-1,h.forEach((function(e,t){"NormalNFT"==e.type?r=e.price:"SpecialNFT"==e.type&&(a=e.price)})),-1!=r){e.next=7;break}return console.log("not received price data"),e.abrupt("return");case 7:return o=new W("".concat(o=t*r+n*a,"e18")),s=Z._NFT.verifyNFT(t,n,{value:o.toString(),from:S}),e.prev=10,e.next=13,s;case 13:if(0!=(u=e.sent).status){e.next=18;break}_().fire("Error!","Action failed","error"),e.next=21;break;case 18:return e.next=20,u.wait();case 20:_().fire("Awesome!","Your NFT purchase has been completed!","success");case 21:e.next=32;break;case 23:if(e.prev=23,e.t0=e.catch(10),4001,4001!==e.t0.code){e.next=31;break}return _().fire("Error!","You rejected transaction.","error"),e.abrupt("return");case 31:_().fire("Error!","Something went wrong.","error");case 32:case"end":return e.stop()}}),e,null,[[10,23]])})));return function(){return e.apply(this,arguments)}}()),X=function(){return!!h[0]&&h[0].balance>0},V=function(){return 0!=a.currentChain.Coin.balance.format};return(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(k,{onStatus:function(e){b(e.Info),T(e.account),H(!1)}}),Y&&(0,o.jsx)(I,{}),!Y&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(f.x,{children:[!X()&&!V()&&(0,o.jsx)(y.z,{onClick:function(){X()||V()?_().fire("Error!","You can not claim tokens since you already buy an NFT.","error"):M().post("/api/claim_tokens",{account:S}).then((function(e){"success"==e.data?(setTimeout((function(){a.currentNetwork.loadBalance()}),2e3),_().fire("Congratulations!","10 IoTex coins were successfully transferred to your account!","success")):_().fire("Error!","Something went wrong!","error")})).catch((function(e){console.error("err received",e)}))},className:t.gridDivBtn,children:"Claim Tokens"}),(0,o.jsxs)(m.i,{sx:{minWidth:800},verticalSpacing:"xs",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Type"}),(0,o.jsx)("th",{children:"Price"}),(0,o.jsx)("th",{children:"Supply"}),(0,o.jsx)("th",{children:"Owned"})]})}),(0,o.jsx)("tbody",{children:R})]})]}),(0,o.jsxs)(x.M,{cols:4,breakpoints:[{maxWidth:"xl",cols:4},{maxWidth:"md",cols:4},{maxWidth:"sm",cols:2}],className:t.gridDiv,children:[(0,o.jsx)(y.z,{disabled:X(),onClick:J,className:t.gridDivBtn,children:"Buy NFT"}),(0,o.jsx)("div",{})]})]})]})}}},function(e){e.O(0,[268,977,625,739,774,888,179],(function(){return t=78364,e(e.s=t);var t}));var t=e.O();_N_E=t}]);