(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{25062:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/staking",function(){return n(81050)}])},1686:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(85893),o=(0,n(58067).k)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%"},header:{backgroundColor:"dark"==e.colorScheme?"#0887BF":"#26BCFF",border:"0px",borderRadius:"6px",color:"white",alignItems:"center",justifyContent:"center",display:"flex",fontWeight:"bold",zIndex:100,position:"relative",height:"36px"},body:{marginTop:"-8px",backgroundColor:"dark"===e.colorScheme?"black":"#DBDBDB",borderWidth:"0px",color:"black",alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",padding:"8px",paddingTop:"18px",borderRadius:"6px",flexGrow:1},secondMargin:{marginTop:"5px"}}}));function i(e){var t=e.label,n=e.children,i=e.bodyClass,a=void 0===i?"":i,s=o().classes;return(0,r.jsxs)("div",{className:s.root,children:[(0,r.jsx)("div",{className:s.header,children:(0,r.jsx)("div",{children:t})}),(0,r.jsx)("div",{className:"".concat(s.body," ").concat(a),children:n})]})}},75999:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(14924),o=n(85893),i=(n(67294),n(58067)),a=n(68940),s=n(76867),c=n(5074),l=n(36861),d=n(71217);function u(e){var t=e.className;return(0,o.jsxs)("div",{className:t,children:["Welcome to the Elumicate Mining Portal!",(0,o.jsx)("br",{}),"Please login and connect to Metamask to access the site."]})}var p="@media (max-width: 755px)",h=(0,i.k)((function(e){return{wrapper:{position:"relative",boxSizing:"border-box",backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:"#ffffffdb",boxShadow:"dark"===e.colorScheme?"0px 0px 6px 6px #00000030":"0px 0px 6px 6px #ffffffdb"},inner:{position:"relative",paddingLeft:0,paddingRight:0,maxWidth:"none"},title:(0,r.Z)({fontFamily:"Proxima-Nova, ".concat(e.fontFamily),fontSize:62,fontWeight:900,lineHeight:1.1,margin:0,padding:0,color:"dark"===e.colorScheme?e.white:e.black},p,{fontSize:42,lineHeight:1.2}),description:(0,r.Z)({marginTop:e.spacing.xl,fontSize:24},p,{fontSize:18}),controls:(0,r.Z)({marginTop:2*e.spacing.xl},p,{marginTop:e.spacing.xl}),control:(0,r.Z)({height:54,paddingLeft:38,paddingRight:38},p,{height:54,paddingLeft:18,paddingRight:18,flex:1}),githubControl:{borderWidth:2,borderColor:"dark"===e.colorScheme?"transparent":e.colors.dark[9],backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:"transparent","&:hover":{backgroundColor:"".concat("dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0]," !important")}},paddingLeft:{paddingLeft:"36px"},loginMsgDiv:{width:"100%",height:"100%",fontSize:"2em",fontWeight:"bold",textAlign:"center"}}})),f=(a.O,(0,d.Pi)((function(e){var t=e.children,n=h().classes,r=(0,l.o)().god,i=((0,d.fv)((function(){return{showConnecter:function(){r.setShowConnecter(!0)},showWalletInfo:function(){r.currentNetwork.walletInfo.visible=!0},currentAvatar:1}})),(0,o.jsx)(d.Qj,{children:function(){return(0,o.jsx)(c.C,{children:(0,o.jsx)("div",{className:n.wrapper,children:(0,o.jsx)(s.W,{className:n.inner,children:r.currentNetwork.account?t:(0,o.jsx)(u,{className:n.loginMsgDiv})})})})}}));return(0,o.jsx)(o.Fragment,{children:i})})));f.displayName="HeroTitle";var x=f},48544:function(e,t,n){"use strict";var r=n(47568),o=n(34051),i=n.n(o),a=n(85893),s=n(67294),c=n(71217),l=n(1686),d=n(58067),u=n(91142),p=n(98547),h=n(88852),f=n(92386),x=n(36861),m=n(86455),g=n.n(m),k=(0,d.k)((function(e){return{gridPadding:{paddingLeft:"0px !important",paddingRight:"0px !important"},price:{color:"#2f9e44"},button:{width:"100%",fontSize:"1.5rem",height:"100%"},inputtext:{backgroundColor:"white",border:"none",outline:"none",width:"100%",height:"100%",fontFamily:"Proxima-Nova-Bold!important"},vertcenter:{alignItems:"center"},center_container:{height:24,display:"flex",alignItems:"center"}}}));t.Z=(0,c.Pi)((function(e){var t=(0,x.o)(),n=t.god,o=t.token,c=k().classes,d=(0,s.useState)(0),m=d[0],j=d[1];(0,s.useEffect)((function(){o.refresh()}),[n.currentNetwork.account]);var v=function(e){return o.loading?(0,a.jsx)("div",{className:c.center_container,children:(0,a.jsx)(u.a,{size:18})}):e};return(0,a.jsx)(l.Z,{label:"Buy ELUM Tokens",bodyClass:c.gridPadding,children:(0,a.jsxs)(p.r,{style:{width:"100%"},children:[(0,a.jsx)(p.r.Col,{md:4,sm:12,children:(0,a.jsxs)(p.r,{children:[(0,a.jsx)(p.r.Col,{md:12,sm:12,children:(0,a.jsx)(f.Z,{className:"",label:"Token Amount"})}),(0,a.jsx)(p.r.Col,{md:12,sm:12,children:(0,a.jsx)(f.Z,{className:c.vertcenter,label:v((0,a.jsx)("input",{type:"text",placeholder:"Input an Number",value:m,className:c.inputtext,onChange:function(e){""==e.target.value?j(0):j(parseInt(e.target.value))}}))})})]})}),(0,a.jsx)(p.r.Col,{md:4,sm:12,children:(0,a.jsxs)(p.r,{children:[(0,a.jsx)(p.r.Col,{md:12,sm:12,children:(0,a.jsx)(f.Z,{className:"",label:"Price"})}),(0,a.jsx)(p.r.Col,{md:12,sm:12,children:(0,a.jsx)(f.Z,{className:"",label:v((0,a.jsxs)(a.Fragment,{children:[o.price," IOTX"]}))})})]})}),(0,a.jsx)(p.r.Col,{md:4,sm:12,children:(0,a.jsx)(h.z,{color:"green",size:"xs",className:c.button,disabled:o.loading,onClick:function(){return function(){if(m<=0)g().fire("Info","<p>Please input a positive number to buy tokens.</p>","info");else{var e=BigInt(m)*BigInt(o.price*Math.pow(10,18));o.buy(m,e.toString()).then(function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return n=e.sent,e.next=5,n.wait();case 5:g().fire("Success","<p>You bought ".concat(m," tokens successfully.</p>"),"success"),o.refresh();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("error",e),g().fire("Error","<p>Errors occured while processing</p>","error")}))}}()},children:"Buy"})})]})})}))},92386:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(85893),o=(0,n(58067).k)((function(e){return{labelstyle:{backgroundColor:"white",borderWidth:"0px",width:"100%",padding:"3px",fontWeight:"bold",paddingLeft:"15px",paddingRight:"15px",borderRadius:"5px",color:"black"}}}));function i(e){var t=e.label,n=e.className,i=void 0===n?"":n,a=e.onClick,s=void 0===a?null:a,c=o().classes;return(0,r.jsx)("div",{onClick:function(e){s&&s()},className:"".concat(i," ").concat(c.labelstyle),children:(0,r.jsx)("span",{children:t})})}},81050:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Y}});var r=n(85893),o=n(75999),i=n(58067),a=n(67294),s=n(71217),c=n(98547),l=n(1686),d=n(92386),u=n(91142),p=n(36861),h=(0,i.k)((function(e){return{textAlign:{paddingLeft:0,paddingRight:0,textAlign:"center"},center_container:{height:24,display:"flex",alignItems:"center",paddingLeft:15}}})),f=(0,s.Pi)((function(e){var t=h().classes,n=(0,p.o)(),o=n.god,i=n.token;(0,a.useEffect)((function(){i.refresh()}),[o.currentNetwork.account]);var s;return(0,r.jsx)(l.Z,{label:"Available to stake",children:(0,r.jsx)(d.Z,{label:(s=(0,r.jsx)(r.Fragment,{children:i.balance}),i.loading?(0,r.jsx)("div",{className:t.center_container,children:(0,r.jsx)(u.a,{size:18})}):s),className:t.textAlign})})})),x=(0,i.k)((function(e){return{textAlign:{paddingLeft:0,paddingRight:0,textAlign:"center"},center_container:{height:24,display:"flex",alignItems:"center",paddingLeft:15}}})),m=(0,s.Pi)((function(e){var t=x().classes,n=(0,p.o)(),o=n.god,i=n.stake;(0,a.useEffect)((function(){i.refresh()}),[o.currentNetwork.account]);var s;return(0,r.jsx)(l.Z,{label:"Currently Staked",children:(0,r.jsx)(d.Z,{label:(s=(0,r.jsx)(r.Fragment,{children:i.staked_tokens}),i.loading?(0,r.jsx)("div",{className:t.center_container,children:(0,r.jsx)(u.a,{size:18})}):s),className:t.textAlign})})})),g=n(47568),k=n(34051),j=n.n(k),v=n(49497),b=n(68129),w=n(11996),y=n(13131),S=n(50112),C=n(53365),N=n(88852),I=n(94184),Z=n.n(I),T=n(86455),E=n.n(T),L=n(59411),_=(0,i.k)((function(e){return{button:{position:"relative",transition:"background-color 150ms ease",minWidth:"100%",maxWidth:"100%",width:"100%",height:"100%",fontSize:"1.5rem"},progress:{position:"absolute",bottom:-1,right:-1,left:-1,top:-1,height:"auto",backgroundColor:"transparent",zIndex:0},label:{position:"relative",zIndex:1},text:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},textCenter:{textAlign:"center",paddingLeft:0,paddingRight:0,cursor:"pointer",userSelect:"none"},gridPadding:{paddingLeft:"0px !important",paddingRight:"0px !important"},active:{backgroundColor:"#2f9e44",color:"white"},inputtext:{backgroundColor:"white",border:"none",outline:"none",width:"100%",height:"100%",fontFamily:"Proxima-Nova-Bold!important"}}})),F=(0,s.Pi)((function(e){var t=_(),n=t.classes,o=(t.theme,(0,a.useState)(0)),i=o[0],s=o[1],u=(0,a.useState)(-1),h=u[0],f=u[1],x=(0,p.o)(),m=x.god,k=x.nft,v=x.stake,b=x.token,w=[45,90,180,360],y=(0,a.useState)(-1),S=y[0],C=y[1],I=(0,a.useState)([]),T=I[0],F=I[1],z=(0,a.useState)([]),P=z[0],B=z[1];(0,a.useEffect)((function(){void 0!=e.period&&C(e.period)}),[e.period]),(0,a.useEffect)((function(){void 0!=e.amount&&s(e.amount)}),[e.amount]),(0,a.useEffect)((function(){void 0!=e.id&&f(e.id)}),[e.id]);var A=function(){var e=(0,g.Z)(j().mark((function e(){var t,n,r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,k.getNFTLists();case 3:return t=e.sent,n=t.map((function(e){return parseInt(e.toString())})),F(n),n.length>0&&f(n[0]),e.next=9,v.getStakingList();case 9:r=(r=e.sent).map((function(e){return{amount:parseInt(e.amount.toString()),period:parseInt(e.period.toString()),id:parseInt(e.id.toString()),multiplier:parseInt(e.multiplier.toString())}})),B(r),console.log("stakeTypeList",r);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){A()}),[m.currentNetwork.account]);var W=function(e){""==e.target.value?f(-1):f(parseInt(e.target.value))},R=function(){var t=void 0==e.id?T:[e.id];return(0,r.jsx)("select",{placeholder:"Input an Number",value:h,className:n.inputtext,onChange:W,children:t.map((function(e){return(0,r.jsx)("option",{value:e,children:e})}))})};return(0,r.jsx)(l.Z,{label:"Stake Tokens",bodyClass:n.gridPadding,children:(0,r.jsxs)(c.r,{style:{width:"100%"},children:[(0,r.jsx)(c.r.Col,{lg:3,md:6,sm:12,children:(0,r.jsxs)(c.r,{children:[(0,r.jsx)(c.r.Col,{md:12,sm:12,children:(0,r.jsx)(d.Z,{className:"",label:"Amount to Stake"})}),(0,r.jsx)(c.r.Col,{md:12,sm:12,children:(0,r.jsx)(d.Z,{className:"",label:(0,r.jsx)("input",{type:"text",placeholder:"Input an Number",value:i,className:n.inputtext,onChange:function(e){""==e.target.value?s(0):s(parseInt(e.target.value))}})})})]})}),(0,r.jsx)(c.r.Col,{lg:3,md:6,sm:12,children:(0,r.jsxs)(c.r,{children:[(0,r.jsx)(c.r.Col,{md:12,sm:12,children:(0,r.jsx)(d.Z,{className:"",label:"NFT id"})}),(0,r.jsxs)(c.r.Col,{md:12,sm:12,children:[0==T.length&&(0,r.jsx)(d.Z,{className:n.text,label:"You need to buy a NFT."}),T.length>0&&(0,r.jsx)(d.Z,{className:"",label:R()})]})]})}),(0,r.jsx)(c.r.Col,{lg:3,md:6,sm:12,children:(0,r.jsxs)(c.r,{children:[(0,r.jsx)(c.r.Col,{md:12,sm:12,children:(0,r.jsx)(d.Z,{className:"",label:"Stake Duration"})}),w.map((function(e){return(0,r.jsx)(c.r.Col,{md:3,sm:3,children:(0,r.jsx)(d.Z,{className:Z()(n.textCenter,S==e?n.active:""),onClick:function(){return function(e){C(e)}(e)},label:e})})}))]})}),(0,r.jsx)(c.r.Col,{lg:3,md:6,sm:12,children:(0,r.jsx)(N.z,{className:n.button,onClick:function(){return function(){if(-1!=h)if(-1==S&&E().fire("Info","<p>You need to choose period to stake.</p>","info"),i<500)E().fire("Info","<p>You need to stake at most 500 tokens.</p>","info");else{var t=-1;console.log("stakeTypeList",P,S,i,e.id),P.forEach((function(e,n){e.period==86400*S&&e.amount<=i&&(-1==t||P[t].multiplier<e.multiplier)&&(t=n)})),-1!=t?E().fire({title:"Info",html:"<p>You will stake ".concat(P[t].amount," tokens to ").concat(e.id?e.id:h," NFT.</p>\n             <p>Period: ").concat(P[t].period/86400," days</p>\n             <p>Multiplier: ").concat(P[t].multiplier/1e4,"</p>"),icon:"info",showCancelButton:!0}).then((function(n){n.isConfirmed&&(console.log("token",b),b.allowToken(L.rA,P[t].amount).then(function(){var n=(0,g.Z)(j().mark((function n(r){var o;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r;case 2:return o=n.sent,n.next=5,o.wait();case 5:v.stakeNFT(e.id?e.id:h,P[t].id).then(function(){var e=(0,g.Z)(j().mark((function e(t){var n;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return n=e.sent,e.next=5,n.wait();case 5:E().fire("Success","<p>You staked successfully!</p>","success");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){E().fire("Error","<p>Errors occured while staking</p>","error")}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){E().fire("Error","<p>Errors occured while approving ".concat(P[t].amount," tokens to Staking Contract.</p>\n             <p>Please check your token balance.</p>"),"error")})))})).catch((function(e){console.error("staketokens",e),E().fire("Error","<p>Errors occured while staking</p>","error")})):E().fire("Info","<p>There is no suitable staking type to satisfy your requirement.</p>","info")}else E().fire("Info","<p>You need to choose NFT to stake.</p>","info")}()},color:"yellow",disabled:(console.log("period",e.period,S),console.log("amount",e.amount,i),void 0!=e.period&&S<e.period||void 0!=e.amount&&i<e.amount),children:e.id?"Restake":"Stake"})})]})})})),z=(0,i.k)((function(e){return{progressBar:{"&:not(:first-of-type)":{borderLeft:"3px solid ".concat("dark"===e.colorScheme?e.colors.dark[7]:e.white)}}}})),P=(0,s.Pi)((function(e){var t=z(),n=t.classes,o=t.theme,i=(0,p.o)(),s=i.god,c=(i.nft,i.stake),l=(i.token,(0,a.useState)([])),d=l[0],u=l[1],h=(0,a.useState)(null),f=h[0],x=h[1],m=(0,a.useState)(!1),k=m[0],v=m[1],b=function(){var t=(0,g.Z)(j().mark((function t(){var n,r;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.getStakingList();case 2:return n=(n=t.sent).map((function(e){return{amount:parseInt(e.amount.toString()),period:parseInt(e.period.toString()),id:parseInt(e.id.toString()),multiplier:parseInt(e.multiplier.toString())}})),u(n),t.next=7,c.getStakingInfo(e.id);case 7:null==(r=t.sent)||0==r.amount?x(null):x({type_id:r.type_id,startTime:new Date(1e3*parseInt(r.startTime.toString())).toLocaleString(),amount:parseInt(r.amount.toString()),staker:r.staker});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();if((0,a.useEffect)((function(){b()}),[s.currentNetwork.account,e.id]),console.log("currentStakeInfo",f),null==f||void 0==f.type_id)return(0,r.jsx)(r.Fragment,{});var I=d[f.type_id].period;console.log("timeTotal",I);var Z=(Date.now()-Date.parse(f.startTime))/1e3,T=I-Z,E=100*Z/I,L=100-E;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.u,{title:"Restaking",centered:!0,size:"calc(100vw - 87px)",overlayColor:"dark"===o.colorScheme?o.colors.dark[9]:o.colors.gray[2],overlayOpacity:.55,overlayBlur:3,opened:k,onClose:function(){v(!1)},style:{zIndex:3e3},children:(0,r.jsx)(F,{id:e.id,period:d[f.type_id].period/86400,amount:parseInt(f.amount.toString())})}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:f.startTime}),(0,r.jsx)("td",{style:{textAlign:"center"},children:f.amount}),(0,r.jsx)("td",{children:Intl.NumberFormat().format(e.id)}),(0,r.jsxs)("td",{children:[(0,r.jsxs)(y.Z,{position:"apart",children:[(0,r.jsxs)(S.x,{size:"xs",color:"teal",weight:700,children:[(Z/86400).toFixed(0),"days passed"]}),(0,r.jsxs)(S.x,{size:"xs",color:"red",weight:700,children:[(T/86400).toFixed(0),"days left"]})]}),(0,r.jsx)(C.E,{classNames:{bar:n.progressBar},sections:[{value:E,color:"dark"===o.colorScheme?o.colors.teal[9]:o.colors.teal[6]},{value:L,color:"dark"===o.colorScheme?o.colors.red[9]:o.colors.red[6]}]})]}),(0,r.jsx)("td",{children:"X ".concat(d[f.type_id].multiplier/1e4)}),(0,r.jsx)("td",{children:(0,r.jsx)(N.z,{onClick:function(){v(!0)},color:"teal",size:"xs",children:"Edit"})})]},e.key)]})})),B=(0,i.k)((function(e){return{progressBar:{"&:not(:first-of-type)":{borderLeft:"3px solid ".concat("dark"===e.colorScheme?e.colors.dark[7]:e.white)}}}})),A=(0,s.Pi)((function(e){var t=B(),n=(t.classes,t.theme,(0,p.o)()),o=n.god,i=n.nft,s=(n.stake,n.token,(0,a.useState)([])),c=s[0],l=s[1],u=function(){var e=(0,g.Z)(j().mark((function e(){var t,n;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,i.getNFTLists();case 3:t=e.sent,n=t.map((function(e){return parseInt(e.toString())})),l(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){u()}),[o.currentNetwork.account]);var h=c.map((function(e,t){return(0,r.jsx)(P,{id:e},t)}));return(0,r.jsx)(d.Z,{label:(0,r.jsx)(v.x,{style:{width:"100%"},children:(0,r.jsxs)(b.i,{sx:{minWidth:600,maxWidth:"100%",color:"black"},verticalSpacing:"xs",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{style:{color:"black"},children:"Date"}),(0,r.jsx)("th",{style:{color:"black",textAlign:"center"},children:"Amount"}),(0,r.jsx)("th",{style:{color:"black"},children:"NFT id"}),(0,r.jsx)("th",{style:{color:"black"},children:"Time Remaining"}),(0,r.jsx)("th",{style:{color:"black"},children:"Multiplier"}),(0,r.jsx)("th",{style:{color:"black"},children:"Upgrade"})]})}),(0,r.jsx)("tbody",{children:h})]})}),className:""})})),W=(0,i.k)((function(e){return{selected:{fontWeight:"bold"}}}));function R(){var e=(0,a.useState)("Staked");e[0],e[1],W().classes;return(0,r.jsx)(l.Z,{label:"Staking Log",children:(0,r.jsx)(A,{})})}var D=n(48544),M=(0,i.k)((function(e){return{progressBar:{"&:not(:first-of-type)":{borderLeft:"3px solid ".concat("dark"===e.colorScheme?e.colors.dark[7]:e.white)}}}})),Y=(0,s.Pi)((function(e){M().classes;return(0,r.jsx)(o.Z,{children:(0,r.jsxs)(c.r,{children:[(0,r.jsx)(c.r.Col,{sm:6,md:4,children:(0,r.jsx)(f,{})}),(0,r.jsx)(c.r.Col,{sm:6,md:4,children:(0,r.jsx)(m,{})}),(0,r.jsx)(c.r.Col,{sm:12,md:8,children:(0,r.jsx)(D.Z,{})}),(0,r.jsx)(c.r.Col,{sm:12,md:12,children:(0,r.jsx)(F,{})}),(0,r.jsx)(c.r.Col,{sm:12,md:12,children:(0,r.jsx)(R,{})})]})})}))}},function(e){e.O(0,[914,497,633,635,739,774,888,179],(function(){return t=25062,e(e.s=t);var t}));var t=e.O();_N_E=t}]);