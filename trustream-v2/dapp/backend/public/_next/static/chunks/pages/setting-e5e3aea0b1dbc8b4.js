(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[552],{45824:function(r,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/setting",function(){return n(38722)}])},75999:function(r,e,n){"use strict";n.d(e,{Z:function(){return g}});var t=n(14924),a=n(85893),o=(n(67294),n(58067)),c=n(68940),i=n(76867),u=n(5074),s=n(86951),p=n(71217);function l(r){var e=r.className;return(0,a.jsxs)("div",{className:e,children:["Welcome to the Elumicate Mining Portal!",(0,a.jsx)("br",{}),"Please login and connect to Metamask to access the site."]})}var f="@media (max-width: 755px)",d=(0,o.k)((function(r){return{wrapper:{position:"relative",boxSizing:"border-box",backgroundColor:"dark"===r.colorScheme?r.colors.dark[8]:"#ffffffdb",boxShadow:"dark"===r.colorScheme?"0px 0px 6px 6px #00000030":"0px 0px 6px 6px #ffffffdb"},inner:{position:"relative",paddingLeft:0,paddingRight:0,maxWidth:"none"},title:(0,t.Z)({fontFamily:"Proxima-Nova, ".concat(r.fontFamily),fontSize:62,fontWeight:900,lineHeight:1.1,margin:0,padding:0,color:"dark"===r.colorScheme?r.white:r.black},f,{fontSize:42,lineHeight:1.2}),description:(0,t.Z)({marginTop:r.spacing.xl,fontSize:24},f,{fontSize:18}),controls:(0,t.Z)({marginTop:2*r.spacing.xl},f,{marginTop:r.spacing.xl}),control:(0,t.Z)({height:54,paddingLeft:38,paddingRight:38},f,{height:54,paddingLeft:18,paddingRight:18,flex:1}),githubControl:{borderWidth:2,borderColor:"dark"===r.colorScheme?"transparent":r.colors.dark[9],backgroundColor:"dark"===r.colorScheme?r.colors.dark[5]:"transparent","&:hover":{backgroundColor:"".concat("dark"===r.colorScheme?r.colors.dark[6]:r.colors.gray[0]," !important")}},paddingLeft:{paddingLeft:"36px"},loginMsgDiv:{width:"100%",height:"100%",fontSize:"2em",fontWeight:"bold",textAlign:"center"}}})),h=(c.O,(0,p.Pi)((function(r){var e=r.children,n=d().classes,t=(0,s.o)().god,o=((0,p.fv)((function(){return{showConnecter:function(){t.setShowConnecter(!0)},showWalletInfo:function(){t.currentNetwork.walletInfo.visible=!0},currentAvatar:1}})),(0,a.jsx)(p.Qj,{children:function(){return(0,a.jsx)(u.C,{children:(0,a.jsx)("div",{className:n.wrapper,children:(0,a.jsx)(i.W,{className:n.inner,children:t.currentNetwork.account?e:(0,a.jsx)(l,{className:n.loginMsgDiv})})})})}}));return(0,a.jsx)(a.Fragment,{children:o})})));h.displayName="HeroTitle";var g=h},35322:function(r,e,n){"use strict";n.r(e),n.d(e,{default:function(){return N}});var t=n(47568),a=n(34051),o=n.n(a),c=n(85893),i=n(75999),u=n(58067),s=n(88852),p=n(55910),l=n(33331),f=n(86951),d=n(9669),h=n.n(d),g=n(50144),v=n(86455),x=n.n(v),m=n(933),w=n(59411),k=n(18699).getWindow().ethereum,b=(0,u.k)((function(r){return{progressBar:{"&:not(:first-of-type)":{borderLeft:"3px solid ".concat("dark"===r.colorScheme?r.colors.dark[7]:r.white)}}}}));function N(){var r=b(),e=(r.classes,r.theme,(0,f.o)()),n=e.god,a=(e.lang,function(){var r=(0,t.Z)(o().mark((function r(e){var t,a,c;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=n.currentNetwork.account,r.prev=1,a=t,r.next=5,k.request({method:"personal_sign",params:[e,a,"Random text"]});case 5:return c=r.sent,r.abrupt("return",c);case 9:return r.prev=9,r.t0=r.catch(1),console.error(r.t0),r.abrupt("return",null);case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()),u=function(){var r=(0,t.Z)(o().mark((function r(){var e;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=w.Sm,r.prev=1,r.next=4,n.currentNetwork.execContract({address:e,abi:m.Mt,method:"balanceOf",params:[n.currentNetwork.account]});case 4:if(!(r.sent[0]>0)){r.next=7;break}return r.abrupt("return",!0);case 7:return r.abrupt("return",!1);case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",!1);case 13:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(){return r.apply(this,arguments)}}(),d=function(){var r=(0,t.Z)(o().mark((function r(){var e;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,h().get("https://miner.elumicate.com/api/device_status/isActive?address=".concat(n.currentNetwork.account));case 3:return e=r.sent,r.abrupt("return",e.data.active);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",!1);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(){return r.apply(this,arguments)}}(),v=function(){var r=(0,t.Z)(o().mark((function r(){var e;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,h().post("https://miner.elumicate.com/api/device_auth/getNounce",{address:n.currentNetwork.account});case 3:return e=r.sent,r.abrupt("return",e.data.nounce);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",null);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(){return r.apply(this,arguments)}}(),N=function(){var r=(0,t.Z)(o().mark((function r(e){var t;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,h().post("https://miner.elumicate.com/api/device_auth/login",{address:n.currentNetwork.account,password:e});case 3:return t=r.sent,r.abrupt("return",t.data.session);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",null);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),y=function(){var r=(0,t.Z)(o().mark((function r(){var e;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u();case 2:if(!1!==r.sent){r.next=6;break}return x().fire("Error",'<p>You do not have an NFT to secure your Mining Connection.</p>\n                 <p>Please obtain a mining NFT and try again.</p>\n                 <p><a href="/nft/">Buy NFT</a></p>',"warning"),r.abrupt("return",!1);case 6:return e=function(){var r=(0,t.Z)(o().mark((function r(){var e,t,c,i,u,s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v();case 2:if(null!=(e=r.sent)){r.next=6;break}return x().fire("Error","<p>Connection Error!</p>","error"),r.abrupt("return",!1);case 6:return t="".concat(l.m.DEVICE_URL,"/set_signature"),r.next=9,a(e);case 9:if(null===(c=r.sent)){r.next=23;break}return C(c,e),r.next=14,N(c);case 14:if(null!=(i=r.sent)){r.next=18;break}return x().fire("Error","<p>Connection Error!</p>","error"),r.abrupt("return",!1);case 18:u=n.currentNetwork.account,s=u,h().post(t,{signature:i,nftID:s,wallet:u},{}),r.next=24;break;case 23:x().fire("Error!","Errors occured while creating signature","error");case 24:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),r.next=9,d();case 9:r.sent,e();case 11:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),C=function(r,e){var t=n.currentNetwork.account;try{var a=t,o=e,c=(0,g.recoverPersonalSignature)({data:o,sig:r});c.toLowerCase()===a.toLowerCase()?console.log("Successfully ecRecovered signer as ".concat(c)):console.log("Failed to verify signer when comparing ".concat(c," to ").concat(a))}catch(i){console.error(i)}};return(0,c.jsx)(i.Z,{children:(0,c.jsx)(s.z,{style:{marginBottom:"10px"},onClick:y,rightIcon:(0,c.jsx)(p.Z,{size:18}),sx:{paddingRight:12},children:"Secure Miner Connection"})})}},38722:function(r,e,n){"use strict";n.r(e),n.d(e,{default:function(){return o}});var t=n(85893),a=n(35322);function o(){return(0,t.jsx)(a.default,{})}},15100:function(){},88924:function(){}},function(r){r.O(0,[821,633,145,739,774,888,179],(function(){return e=45824,r(r.s=e);var e}));var e=r.O();_N_E=e}]);