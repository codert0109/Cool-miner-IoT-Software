(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{80577:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return r(46207)}])},75999:function(e,n,r){"use strict";r.d(n,{Z:function(){return p}});var t=r(14924),o=r(85893),i=(r(67294),r(58067)),s=r(68940),a=r(76867),c=r(5074),l=r(51666),d=r(71217);function u(e){var n=e.className;return(0,o.jsxs)("div",{className:n,children:["Welcome to the Elumicate Mining Portal!",(0,o.jsx)("br",{}),"Please login and connect to Metamask to access the site."]})}var h="@media (max-width: 755px)",f=(0,i.k)((function(e){return{wrapper:{position:"relative",boxSizing:"border-box",backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:"#ffffffdb",boxShadow:"dark"===e.colorScheme?"0px 0px 6px 6px #00000030":"0px 0px 6px 6px #ffffffdb"},inner:{position:"relative",paddingLeft:0,paddingRight:0,maxWidth:"none"},title:(0,t.Z)({fontFamily:"Proxima-Nova, ".concat(e.fontFamily),fontSize:62,fontWeight:900,lineHeight:1.1,margin:0,padding:0,color:"dark"===e.colorScheme?e.white:e.black},h,{fontSize:42,lineHeight:1.2}),description:(0,t.Z)({marginTop:e.spacing.xl,fontSize:24},h,{fontSize:18}),controls:(0,t.Z)({marginTop:2*e.spacing.xl},h,{marginTop:e.spacing.xl}),control:(0,t.Z)({height:54,paddingLeft:38,paddingRight:38},h,{height:54,paddingLeft:18,paddingRight:18,flex:1}),githubControl:{borderWidth:2,borderColor:"dark"===e.colorScheme?"transparent":e.colors.dark[9],backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:"transparent","&:hover":{backgroundColor:"".concat("dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0]," !important")}},paddingLeft:{paddingLeft:"36px"},loginMsgDiv:{width:"100%",height:"100%",fontSize:"2em",fontWeight:"bold",textAlign:"center"}}})),m=(s.O,(0,d.Pi)((function(e){var n=e.children,r=f().classes,t=(0,l.o)().god,i=((0,d.fv)((function(){return{showConnecter:function(){t.setShowConnecter(!0)},showWalletInfo:function(){t.currentNetwork.walletInfo.visible=!0},currentAvatar:1}})),(0,o.jsx)(d.Qj,{children:function(){return(0,o.jsx)(c.C,{children:(0,o.jsx)("div",{className:r.wrapper,children:(0,o.jsx)(a.W,{className:r.inner,children:t.currentNetwork.account?n:(0,o.jsx)(u,{className:r.loginMsgDiv})})})})}}));return(0,o.jsx)(o.Fragment,{children:i})})));m.displayName="HeroTitle";var p=m},46207:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return U}});var t=r(85893),o=r(75999),i=r(58067),s=r(49497),a=r(17789),c=r(51666),l=r(47568),d=r(14924),u=r(34051),h=r.n(u),f=r(67294),m=r(21389),p=r(88852),g=r(91142),x=r(86455),v=r.n(x),j=r(44868),C=r(31037),w=r(59411),k=(0,i.k)((function(e){return{input:{backgroundColor:e.white,borderColor:e.colors.gray[4],color:e.black,fontFamily:"Consolas !important","&::placeholder":{color:e.colors.gray[5]}},gridDivBtn:(0,d.Z)({marginTop:"16px",width:"50%",float:"right"},"@media (max-width: 900px)",{width:"100%"}),loader:{marginRight:"10px"}}}));function b(){var e=k(),n=e.classes,r=(e.theme,(0,f.useState)(!1)),o=r[0],i=r[1],s=(0,f.useState)(""),a=s[0],d=s[1],u=(0,c.o)(),x=u.god,b=(u.lang,function(e){if(e.length<=2)return!1;if("0x"!==e.substring(0,2))return!1;if(e.length>42)return!1;e=e.toUpperCase();for(var n=0;n<e.length;n++)if(-1==="0123456789ABCDEFX".indexOf(e[n]))return!1;return!0});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.g,{label:"Multiple Add",placeholder:"0x5D7f87B9ceA4D4B8ede546494277d0822F5BCB8E\n0xF20986e93AeE8f60A4B49231Da8056052C62B47e\n",minRows:4,mt:"md",onChange:function(e){d(e.currentTarget.value)},classNames:{input:n.input}}),(0,t.jsxs)(p.z,{disabled:o,className:n.gridDivBtn,onClick:function(){for(var e=a.split("\n"),n=[],r=0;r<e.length;r++)b(e[r])&&n.push(e[r]);if(0!==n.length){v().fire({title:"info",html:"<p>Detected ".concat(n.length," wallets.</p>\n               ").concat(function(){var e="<div style=\"height:100px;overflow:auto;font-family:'Consolas'\">",r=0,t=!0,o=!1,i=void 0;try{for(var s,a=n[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var c=s.value;++r,e+="<div>".concat(r,". ").concat((0,j.Cm)(c),"</div>")}}catch(l){o=!0,i=l}finally{try{t||null==a.return||a.return()}finally{if(o)throw i}}return e+="</div>"}()),icon:"info",showCancelButton:!0}).then((function(e){e.isConfirmed&&function(e){var n=w.Kt;i(!0),x.currentNetwork.execContract({address:n,abi:C.Mt,method:"affectWhiteList",params:[e,!0]}).then(function(){var n=(0,l.Z)(h().mark((function n(r){var t;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r;case 2:return t=n.sent,n.next=5,t.wait();case 5:v().fire("Success","".concat(e.length," wallets added to beta tester lists successfully!"),"success"),i(!1);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){4001===e.code?v().fire("Info","You rejected transaction.","info"):v().fire("Error!",e.reason,"error"),i(!1)}))}(n)}))}else v().fire("Error!","No wallet address detected","error")},children:[o&&(0,t.jsx)(g.a,{size:"xs",className:n.loader}),"Add To BetaTester Lists"]})]})}var S=r(98233),N=(0,i.k)((function(e,n){var r=n.floating;return{root:{position:"relative"},label:{position:"absolute",zIndex:2,top:7,left:e.spacing.sm,pointerEvents:"none",color:r?"dark"===e.colorScheme?e.white:e.black:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5],transition:"transform 150ms ease, color 150ms ease, font-size 150ms ease",transform:r?"translate(-".concat(e.spacing.sm,"px, -28px)"):"none",fontSize:r?e.fontSizes.xs:e.fontSizes.sm,fontWeight:r?500:400},required:{transition:"opacity 150ms ease",opacity:r?1:0},input:{"&::placeholder":{transition:"color 150ms ease",color:r?void 0:"transparent"}}}}));function z(e){var n=e.label,r=e.placeholder,o=e.onChange,i=e.initvalue,s=void 0===i?"":i,a=(0,f.useState)(!1),c=a[0],l=a[1],d=(0,f.useState)(s),u=d[0],h=d[1],m=N({floating:0!==u.trim().length||c}).classes;return(0,f.useEffect)((function(){h(s)}),[s]),(0,t.jsx)(S.o,{label:n,placeholder:r,required:!0,classNames:m,value:u,onChange:function(e){h(e.currentTarget.value),o(e.currentTarget.value)},onFocus:function(){return l(!0)},onBlur:function(){return l(!1)},mt:"md",autoComplete:"nope"})}var y=r(51223),E=(0,i.k)((function(e){return{gridDiv:{alignItems:"center",justifyContent:"center",marginTop:"10px"},gridDivBtn:{marginTop:"16px"},loader:{marginRight:"10px"}}}));function B(){var e=E(),n=e.classes,r=(e.theme,(0,c.o)()),o=r.god,i=(r.lang,(0,f.useState)(0)),s=i[0],a=i[1],d=(0,f.useState)(!1),u=d[0],m=d[1];return(0,t.jsxs)(y.M,{cols:2,breakpoints:[{maxWidth:"sm",cols:1}],className:n.gridDiv,children:[(0,t.jsx)(z,{onChange:a,label:"Wallet Address",placeholder:"Input an wallet address."}),(0,t.jsxs)(p.z,{disabled:u,className:n.gridDivBtn,onClick:function(){var e=w.Kt;m(!0),o.currentNetwork.execContract({address:e,abi:C.Mt,method:"affectWhiteList",params:[[s],!0]}).then(function(){var e=(0,l.Z)(h().mark((function e(n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.next=5,r.wait();case 5:v().fire("Success","".concat(s," added to beta tester lists successfully!"),"success"),m(!1);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){4001===e.code?v().fire("Info","You rejected transaction.","info"):v().fire("Error!",e.reason,"error"),m(!1)}))},children:[u&&(0,t.jsx)(g.a,{size:"xs",className:n.loader}),"Add To BetaTester Lists"]})]})}var T=r(33331).m.BACKEND_URL,L=(0,i.k)((function(e){return{split:{paddingBottom:10,paddingTop:10},gridDivBtn:{marginTop:"16px",float:"right"},loader:{marginRight:"10px"},releaseStyle:{fontSize:"0.8em"}}}));function R(){var e=L().classes,n=(0,c.o)(),r=(n.god,n.auth),o=(0,f.useState)(!1),i=o[0],s=o[1],a=(0,f.useState)(!0),l=a[0],d=a[1],u=(0,f.useState)("Not set"),h=u[0],x=u[1],j=(0,f.useState)("Not set"),C=j[0],w=j[1],k=(0,f.useState)("Not set"),b=k[0],S=k[1],N=(0,f.useState)("Not set"),y=N[0],E=N[1];(0,f.useEffect)((function(){d(!0),r.$().get("".concat(T,"/update")).then((function(e){d(!1);var n=e.data;"OK"==n.status?(x(n.version),w(n.download),S(n.message),E(n.note),console.log("updated value:",n.version,n.download,n.message)):v().fire({title:"Error",html:"<p>Loading Error</p>",icon:"error"})})).catch((function(e){d(!1),v().fire({title:"Error",html:"<p>Loading Error</p>",icon:"error"})}))}),[]);return l?(0,t.jsx)("div",{children:(0,t.jsx)(g.a,{size:"xs",className:e.loader})}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:e.split,children:(0,t.jsx)(z,{onChange:x,label:"Current Version",initvalue:h,placeholder:"Input new version."})}),(0,t.jsx)("div",{className:e.split,children:(0,t.jsx)(z,{onChange:w,label:"Download URL",initvalue:C,placeholder:"Input new download URL."})}),(0,t.jsx)("div",{className:e.split,children:(0,t.jsx)(z,{onChange:S,label:"Message",initvalue:b,placeholder:"Input Messages"})}),(0,t.jsx)("div",{className:e.split,children:(0,t.jsx)(m.g,{size:"xs",value:y,onChange:function(e){return E(e.currentTarget.value)},placeholder:"Add Release Notes here.",label:"Release Notes",autosize:!0,minRows:2})}),(0,t.jsxs)(p.z,{disabled:i,className:e.gridDivBtn,onClick:function(){s(!0);var e=function(){r.$().post("".concat(T,"/update/create"),{version:h,download:C,message:b,note:y}).then((function(e){var n=e.data;"OK"==n.status?v().fire({title:"Success",html:"<p>Updating Success</p>",icon:"success"}):v().fire({title:"Info",html:"<p>".concat(n.message,"</p>"),icon:"info"}),s(!1)})).catch((function(e){v().fire({title:"Error",html:"<p>Errors Occured.</p>",icon:"error"}),s(!1)}))};v().fire({title:"Warning",html:"<p>Are you sure?</p>",icon:"warning",showCancelButton:!0}).then((function(n){n.isConfirmed?r.check_auth((function(){e()}),(function(){v().fire({title:"Error",html:"<p>You need to login to use admin functions.</p>",icon:"error",showCancelButton:!0}).then((function(n){n.isConfirmed?r.login((function(){e()}),(function(){v().fire({title:"Error",html:"<p>Errors Occured while login.</p>",icon:"error"}),s(!1)})):s(!1)})).catch((function(){v().fire({title:"Info",html:"<p>Updating has been cancelled.</p>",icon:"info"}),s(!1)}))})):s(!1)})).catch((function(e){v().fire({title:"Error",html:"<p>Errors Occured.</p>",icon:"error"}),s(!1)}))},children:[i&&(0,t.jsx)(g.a,{size:"xs",className:e.loader}),"Update"]})]})}var D=r(71217),A=r(98547),W=r(11996),I=r(68129),O=r(81252),Z=r(95960),_=r(23055),M=(0,i.k)((function(e){return{header:{position:"sticky",top:0,backgroundColor:"dark"===e.colorScheme?e.colors.dark[7]:e.white,transition:"box-shadow 150ms ease","&::after":{content:'""',position:"absolute",left:0,right:0,bottom:0,borderBottom:"1px solid ".concat("dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[2])},zIndex:1},scrolled:{boxShadow:e.shadows.sm},icon:{marginRight:5},floatRight:{float:"right"},buttonNav:{float:"right",marginBottom:10},alignRight:{alignItems:"right",justifyContent:"end",display:"flex"}}})),F=(0,D.Pi)((function(e){var n=(0,c.o)(),r=(n.god,n.camera),o=n.auth,i=M(),a=i.classes,l=i.cx,u=i.theme,h=(0,f.useState)(!1),g=h[0],x=h[1],j=(0,f.useState)(!1),C=j[0],w=j[1],k=(0,f.useState)(-1),b=k[0],N=k[1],z=(0,f.useState)(""),y=z[0],E=z[1],B=(0,f.useState)(""),T=B[0],L=B[1],R=(0,f.useState)(""),D=R[0],F=R[1];(0,f.useEffect)((function(){r.refresh()}),[]);var K=function(e){w(!1);o.actionWithAuth((function(){if(-1==b){for(var e=y.split("\n"),n=T.split("\n"),t=D.split("\n"),o=[],i=[],s=[],a=Math.max(e.length,n.length,t.length),c=0;c<a;c++)(""!=e[c]&&void 0!=e[c]||""!=n[c]&&void 0!=n[c]||""!=t[c]&&void 0!=t[c])&&(o.push(e[c]),i.push(n[c]),s.push(t[c]));if(0==o.length)return void v().fire("Info","<p>Nothing to add</p>","info");v().fire({title:"info",html:"<p>Detected ".concat(o.length," cameras.</p>"),icon:"info",showCancelButton:!0}).then((function(e){e.isConfirmed&&r.addList({linkList:o,orientationList:s,coordinatesList:i}).then((function(e){"OK"==e.data.status?(v().fire("Success","<p>Added successfully!.</p>","success"),r.refresh()):v().fire("Error","<p>Errors occured while adding!.</p>","error")})).catch((function(e){v().fire("Error","<p>Errors occured while adding!.</p>","error")}))}))}else r.update({id:b,link:y,coordinates:T,orientation:D}).then((function(e){"OK"==e.data.status?(v().fire("Success","<p>Updated successfully!.</p>","success"),r.refresh()):v().fire("Error","<p>Errors occured while updating!.</p>","error")})).catch((function(e){v().fire("Error","<p>Errors occured while updating!.</p>","error")}))}))},U=function(e){E(e.currentTarget.value)},P=function(e){L(e.currentTarget.value)},H=function(e){F(e.currentTarget.value)};return(0,t.jsxs)(s.x,{sx:{height:"calc(100vh - 200px)"},onScrollPositionChange:function(e){var n=e.y;return x(0!==n)},children:[(0,t.jsx)(W.u,{centered:!0,title:-1==b?"Add New Camera":"Edit Camera Setting",overlayColor:"dark"===u.colorScheme?u.colors.dark[9]:u.colors.gray[2],overlayOpacity:0,overlayBlur:.8,opened:C,onClose:function(){w(!1)},style:{zIndex:3e3},children:(0,t.jsx)(A.r,{children:-1==b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.r.Col,{sm:12,md:4,children:"Link"}),(0,t.jsx)(A.r.Col,{sm:12,md:8,children:(0,t.jsx)(m.g,{value:y,onChange:U,minRows:4,size:"xs"})}),(0,t.jsx)(A.r.Col,{sm:12,md:4,children:"Coordinates"}),(0,t.jsx)(A.r.Col,{sm:12,md:8,children:(0,t.jsx)(m.g,{value:T,onChange:P,minRows:4,size:"xs"})}),(0,t.jsx)(A.r.Col,{sm:12,md:4,children:"Orientation"}),(0,t.jsx)(A.r.Col,{sm:12,md:8,children:(0,t.jsx)(m.g,{value:D,onChange:H,minRows:4,size:"xs"})}),(0,t.jsxs)(A.r.Col,{sm:12,md:12,className:a.alignRight,children:[(0,t.jsx)(p.z,{onClick:K,color:"green",size:"xs",mr:5,children:"Save"}),(0,t.jsx)(p.z,{onClick:function(){return w(!1)},color:"gray",size:"xs",children:"Cancel"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.r.Col,{sm:12,md:4,children:"Link"}),(0,t.jsx)(A.r.Col,{sm:12,md:8,children:(0,t.jsx)(S.o,{value:y,onChange:U,size:"xs"})}),(0,t.jsx)(A.r.Col,{sm:12,md:4,children:"Coordinates"}),(0,t.jsx)(A.r.Col,{sm:12,md:8,children:(0,t.jsx)(S.o,{value:T,onChange:P,size:"xs"})}),(0,t.jsx)(A.r.Col,{sm:12,md:4,children:"Orientation"}),(0,t.jsx)(A.r.Col,{sm:12,md:8,children:(0,t.jsx)(S.o,{value:D,onChange:H,size:"xs"})}),(0,t.jsxs)(A.r.Col,{sm:12,md:12,className:a.alignRight,children:[(0,t.jsx)(p.z,{onClick:K,color:"green",size:"xs",mr:5,children:"Save"}),(0,t.jsx)(p.z,{onClick:function(){return w(!1)},color:"gray",size:"xs",children:"Cancel"})]})]})})}),(0,t.jsx)("div",{className:a.buttonNav,children:(0,t.jsxs)(p.z,{size:"xs",onClick:function(e){N(-1),w(!0),E(""),L(""),F("")},children:[(0,t.jsx)(_.Z,{size:15,className:a.icon})," New"]})}),(0,t.jsxs)(I.i,{sx:{minWidth:700},children:[(0,t.jsx)("thead",{className:l(a.header,(0,d.Z)({},a.scrolled,g)),children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Camera ID"}),(0,t.jsx)("th",{children:"Link"}),(0,t.jsx)("th",{children:"Coordinates"}),(0,t.jsx)("th",{children:"Orientation"}),(0,t.jsx)("th",{style:{width:180},children:"Action"})]})}),(0,t.jsx)("tbody",{children:0==r.cameraList.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,style:{textAlign:"center"},children:"No Camera Data"})},"nothing"):r.cameraList.map((function(e){return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.id}),(0,t.jsx)("td",{children:e.link}),(0,t.jsx)("td",{children:e.coordinates}),(0,t.jsx)("td",{children:e.orientation}),(0,t.jsxs)("td",{children:[(0,t.jsxs)(p.z,{onClick:function(){return function(e){var n=e.id,r=e.link,t=e.coord,o=e.orientation;N(n),w(!0),E(r),L(t),F(o)}({id:e.id,link:e.link,coord:e.coordinates,orientation:e.orientation})},size:"xs",mr:5,children:[(0,t.jsx)(O.Z,{size:15}),"Edit"]}),(0,t.jsxs)(p.z,{onClick:function(){return n=e.id,void o.actionWithAuth((function(){r.remove({id:n}).then((function(e){"OK"==e.data.status?(v().fire("Success","<p>Removed successfully!.</p>","success"),r.refresh()):v().fire("Error","<p>Errors occured while removing!.</p>","error")})).catch((function(e){v().fire("Error","<p>Errors occured while removing!.</p>","error")}))}));var n},color:"red",size:"xs",children:[(0,t.jsx)(Z.Z,{size:15}),"Remove"]})]})]},e.id)}))})]})]})})),K=(0,i.k)((function(e){return{}}));function U(){var e=K(),n=(e.classes,e.theme,(0,c.o)());n.god,n.lang;return(0,t.jsx)(o.Z,{children:(0,t.jsx)(s.x,{children:(0,t.jsxs)(a.m,{color:"#ffffff",defaultValue:"wallet",children:[(0,t.jsxs)(a.m.Tab,{label:"Wallet",value:"wallet",children:[(0,t.jsx)(B,{}),(0,t.jsx)(b,{})]}),(0,t.jsx)(a.m.Tab,{label:"Update",value:"update",children:(0,t.jsx)(R,{})}),(0,t.jsx)(a.m.Tab,{label:"Camera",value:"camera",children:(0,t.jsx)(F,{})})]})})})}},44868:function(e,n,r){"use strict";r.d(n,{Cm:function(){return o},Hk:function(){return s},MZ:function(){return i},WJ:function(){return c},mr:function(){return a}});var t=r(59411);function o(e){return e.substring(0,6)+"..."+e.substring(e.length-4)}function i(){return o(t.Kt)}function s(e){return new Date(1e3*e).toLocaleString()}function a(e){for(var n=[1,60,3600,86400],r=["s","m","h","d"],t=[],o=n.length-1;o>=0;o--)t[o]=Math.floor(e/n[o]),e-=t[o]*n[o];for(var i=0,s="",a=n.length-1;a>=0&&!(t[a]>0&&(s+="".concat(t[a]).concat(r[a]),2==++i));a--);return""==s&&(s="0s"),s}function c(e){return e/100+"%"}}},function(e){e.O(0,[914,497,862,739,774,888,179],(function(){return n=80577,e(e.s=n);var n}));var n=e.O();_N_E=n}]);