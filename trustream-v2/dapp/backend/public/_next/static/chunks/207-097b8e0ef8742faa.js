"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[207],{75999:function(e,t,n){n.d(t,{Z:function(){return C}});var r=n(14924),i=n(85893),o=n(67294),a=n(58067),c=n(68940),s=n(76867),l=n(79571),d=n(24242),u=n(71217),h=n(47568),f=n(34051),g=n.n(f),m=n(3857),p=n(11163),x=n(86455),v=n.n(x),b=n(9669),N=n.n(b),j=n(18699),k=(0,a.k)((function(e){return{portalDiv:{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%,-50%)",width:400,fontSize:"1em",background:"white",color:"black",borderRadius:10,padding:10,paddingTop:0},greenText:{color:"green",fontSize:"1em"},infoText:{fontSize:".5em",fontStyle:"italic"},imgdiv:{flexGrow:1,cursor:"pointer"},imgstyle:{height:"17px"},imgmetamaskstyle:{height:50,margin:10},btncolor:{backgroundColor:"rgb(75, 141, 255)",color:"white",cursor:"pointer",borderRadius:10,fontSize:".5em",width:"45%",marginLeft:"auto !important",marginRight:"auto !important"},connectbtn:{cursor:"pointer"}}}));function w(e){var t=e.className,n=(0,m.rZ)(),r=(0,p.useRouter)(),a=k().classes,c=(0,d.o)().god,s=(0,o.useState)(!1),l=s[0],u=s[1];return(0,o.useEffect)((function(){N().get("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js").then((function(e){})).catch((function(e){var t=function(){var e=(0,h.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("working"),e.next=3,j.isBrave();case 3:if(1!=e.sent){e.next=9;break}if(1!=l){e.next=7;break}return e.abrupt("return");case 7:v().fire("Warning","<p>Our system has detected you are currently using Brave Web Browser.</p>\n                             <p>You will need to turn Brave Shields Down or open miner.elumicate.com with a different browser.</p>","warning"),u(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}))}),[]),(0,i.jsx)("div",{className:t,children:(0,i.jsxs)("div",{className:a.portalDiv,children:[(0,i.jsxs)("div",{className:a.imgdiv,onClick:function(){return r.push("https://www.elumicate.com/")},children:["dark"===n.colorScheme&&(0,i.jsx)("img",{className:a.imgstyle,src:"/images/logo/Elumicate-font-viga-black-logo-SMALL.png"}),"dark"!==n.colorScheme&&(0,i.jsx)("img",{className:a.imgstyle,src:"/images/logo/Elumicate-font-viga-white-logo-SMALL.png"})]}),(0,i.jsx)("div",{children:"Welcome to the"}),(0,i.jsx)("div",{style:{marginTop:-15},children:"Elumicate Mining Portal"}),(0,i.jsx)("div",{className:a.greenText,children:"Ready to start Mining?"}),(0,i.jsx)("div",{style:{height:10}}),(0,i.jsxs)("div",{className:a.infoText,children:[(0,i.jsx)("div",{children:"In order to view the portal you must have"}),(0,i.jsx)("div",{children:"a Metamask Wallet installed and"}),(0,i.jsx)("div",{children:"connected to the IoTex testnet."}),(0,i.jsx)("div",{className:a.connectbtn,onClick:function(){return c.setShowConnecter(!0)},children:(0,i.jsx)("img",{className:a.imgmetamaskstyle,src:"/images/logo/metamask.png"})}),(0,i.jsx)("div",{children:"You can find full details on how to get"}),(0,i.jsx)("div",{children:"started here."})]}),(0,i.jsx)("div",{className:a.btncolor,onClick:function(){r.push("https://whitepaper.elumicate.com/user-experience/testnet-onboarding")},children:"Open Whitepaper"})]})})}var S="@media (max-width: 755px)",y=(0,a.k)((function(e){return{wrapper:{position:"relative",boxSizing:"border-box",backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:"#ffffffdb",boxShadow:"dark"===e.colorScheme?"0px 0px 6px 6px #00000030":"0px 0px 6px 6px #ffffffdb"},inner:{position:"relative",paddingLeft:0,paddingRight:0,maxWidth:"none"},title:(0,r.Z)({fontFamily:"Proxima-Nova, ".concat(e.fontFamily),fontSize:62,fontWeight:900,lineHeight:1.1,margin:0,padding:0,color:"dark"===e.colorScheme?e.white:e.black},S,{fontSize:42,lineHeight:1.2}),description:(0,r.Z)({marginTop:e.spacing.xl,fontSize:24},S,{fontSize:18}),controls:(0,r.Z)({marginTop:2*e.spacing.xl},S,{marginTop:e.spacing.xl}),control:(0,r.Z)({height:54,paddingLeft:38,paddingRight:38},S,{height:54,paddingLeft:18,paddingRight:18,flex:1}),githubControl:{borderWidth:2,borderColor:"dark"===e.colorScheme?"transparent":e.colors.dark[9],backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:"transparent","&:hover":{backgroundColor:"".concat("dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0]," !important")}},paddingLeft:{paddingLeft:"36px"},loginMsgDiv:{width:"100%",height:"100%",fontSize:"2em",fontWeight:"bold",textAlign:"center"}}})),T=(c.O,(0,u.Pi)((function(e){var t=e.children,n=y().classes,r=(0,d.o)().god,o=((0,u.fv)((function(){return{showConnecter:function(){r.setShowConnecter(!0)},showWalletInfo:function(){r.currentNetwork.walletInfo.visible=!0},currentAvatar:1}})),(0,i.jsx)(u.Qj,{children:function(){return(0,i.jsx)(l.C,{children:(0,i.jsx)("div",{className:n.wrapper,children:(0,i.jsx)(s.W,{className:n.inner,children:r.currentNetwork.account?t:(0,i.jsx)(w,{className:n.loginMsgDiv})})})})}}));return(0,i.jsx)(i.Fragment,{children:o})})));T.displayName="HeroTitle";var C=T},2207:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var r=n(47568),i=n(34051),o=n.n(i),a=n(85893),c=n(75999),s=n(58067),l=n(91142),d=n(88852),u=n(33331),h=n(24242),f=n(9669),g=n.n(f),m=n(86455),p=n.n(m),x=n(31037),v=n(59411),b=n(67294),N=n(1686),j=n(71217),k=n(55649),w=n(94184),S=n.n(w),y=n(44868),T=u.m.BACKEND_URL,C=(0,s.k)((function(e){return{NFTTable:{background:"white",color:"black",width:"100%"},thead:{borderBottom:"1px solid black"},orange:{backgroundColor:"rgb(255, 102, 0)"},th:{borderBottom:"1px solid black"},center:{textAlign:"center"},green:{color:"green"}}})),E=(0,j.Pi)((function(e){var t=C().classes,n=(0,h.o)(),r=n.auth,i=(n.god,(0,b.useState)(0)),o=i[0],c=i[1],s=(0,b.useState)(0),l=s[0],d=s[1],u=(0,b.useState)(0),f=u[0],g=u[1],m=(0,b.useState)("0"),p=m[0],x=m[1];return(0,b.useEffect)((function(){r.$().get("".concat(T,"/api/epoch/status")).then((function(e){var t=e.data;c(t.data.duration),d(t.data.miner),g(t.data.weight),console.log("getInformation",t),x((0,y.SF)(BigInt(t.data.reward)).toString())})).catch((function(e){c(0),d(0),g(0),x("0"),console.log("getInformation error",e)}))}),[]),(0,a.jsx)(N.Z,{label:"Overall Network Stats During last Epoch",headerClass:t.orange,children:(0,a.jsxs)("table",{className:t.NFTTable,children:[(0,a.jsx)("thead",{className:t.thead,children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:t.th,children:"Epoch Duration"},"1"),(0,a.jsx)("th",{className:t.th,children:"Active Miners"},"2"),(0,a.jsx)("th",{className:t.th,children:"Accumulated Weight Rating"},"3"),(0,a.jsx)("th",{className:t.th,children:"Epoch Rewards"},"4")]})}),(0,a.jsx)("tbody",{children:(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:S()(t.center,t.green),children:[o/60," Minutes"]},"1"),(0,a.jsx)("td",{className:t.center,children:l},"2"),(0,a.jsx)("td",{className:t.center,children:Math.round(f/3600*100)/100},"3"),(0,a.jsxs)("td",{className:t.center,children:[p," ELUM"]},"4")]})})]})})})),_=n(14924),F=n(49497),M=n(68129),A=n(92386),L=(0,s.k)((function(e){return{header:{color:"white",backgroundColor:"rgb(106, 106, 106)",fontSize:".9rem",textAlign:"center",marginBottom:2,whiteSpace:"nowrap"},elum:{fontSize:".9rem",textAlign:"center",marginTop:2,whiteSpace:"nowrap"},root:(0,_.Z)({flexGrow:1,flexShrink:1},"@media (max-width: 992px)",{width:0,overflow:"hidden"})}})),R=(0,j.Pi)((function(e){var t=L().classes;return(0,a.jsxs)("div",{className:t.root,children:[(0,a.jsx)(A.Z,{label:e.label,className:t.header}),(0,a.jsx)(A.Z,{label:e.token,className:t.elum})]})})),Z=(u.m.BACKEND_URL,"@media (max-width: 992px)"),B=(0,s.k)((function(e){return{NFTTable:{background:"white",color:"black",width:"100%"},thead:{position:"sticky",top:0,backgroundColor:e.white,transition:"box-shadow 150ms ease","&::after":{content:'""',position:"absolute",left:0,right:0,bottom:0,borderBottom:"1px solid ".concat("dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[2])}},orange:{backgroundColor:"rgb(255, 102, 0)"},th:{textAlign:"center !important",color:"black !important"},center:{textAlign:"center"},green:{color:"green"},centerAlign:{display:"flex",alignItems:"center",justifyContent:"center",height:"36px"},imgStyle:{height:30,transform:"translate(0px, 2px)"},minerName:{position:"absolute",top:3,paddingRight:5,backgroundColor:"black",left:8,display:"flex",alignItems:"center",justifyContent:"center"},body:(0,_.Z)({display:"flex",width:"100%"},Z,{display:"block"}),leftChild:{flexGrow:1,flexShrink:1},rightChild:(0,_.Z)({width:130,marginLeft:10},Z,{display:"flex",width:"100%",marginLeft:0,marginTop:5}),spliter:(0,_.Z)({height:2},Z,{width:2}),scrolled:{boxShadow:e.shadows.sm}}})),I=(0,j.Pi)((function(e){(0,h.o)().auth;var t=B(),n=t.classes,r=t.cx,i=(0,b.useState)(!1),o=i[0],c=i[1],s=function(e){return Math.round(1e4*e)/1e4+""};return(0,a.jsx)(N.Z,{label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:n.centerAlign,children:(0,a.jsx)("span",{children:"Historical Rewards"})}),(0,a.jsxs)("div",{className:n.minerName,children:[(0,a.jsx)("img",{src:"/images/status/working.png",className:n.imgStyle}),e.nft_id]})]}),children:(0,a.jsxs)("div",{className:n.body,children:[(0,a.jsx)("div",{className:n.leftChild,children:(0,a.jsx)(F.x,{sx:{height:"180px",width:"100%"},onScrollPositionChange:function(e){var t=e.y;return c(0!==t)},children:(0,a.jsxs)(M.i,{className:n.NFTTable,children:[(0,a.jsx)("thead",{className:r(n.thead,(0,_.Z)({},n.scrolled,o)),children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:n.th,children:"Epoch Time"},"1"),(0,a.jsx)("th",{className:n.th,children:"Mining Time"},"2"),(0,a.jsx)("th",{className:n.th,children:"Multiplier"},"3"),(0,a.jsx)("th",{className:n.th,children:"Epoch Reward"},"4")]})}),(0,a.jsx)("tbody",{children:e.info.map((function(e,t){return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:S()(n.center,n.green),children:(0,y.t3)(e.epoch)},"1"),(0,a.jsxs)("td",{className:n.center,children:[e.uptime/60," Minutes"]},"2"),(0,a.jsxs)("td",{className:n.center,children:["X ",e.multiplier/1e4]},"3"),(0,a.jsxs)("td",{className:n.center,children:[null==e.reward?0:(0,y.SF)(BigInt(e.reward))," ELUM"]},"4")]},t)}))})]})})}),(0,a.jsxs)("div",{className:n.rightChild,children:[(0,a.jsx)(R,{label:"Past Day",token:s(e.history[0])}),(0,a.jsx)("div",{className:n.spliter}),(0,a.jsx)(R,{label:"Past Week",token:s(e.history[1])}),(0,a.jsx)("div",{className:n.spliter}),(0,a.jsx)(R,{label:"Past Month",token:s(e.history[2])})]})]})})})),D=u.m.BACKEND_URL,W=(0,s.k)((function(e){return{}})),z=(0,j.Pi)((function(e){W().classes;var t=(0,h.o)(),n=t.god,r=t.auth,i=(0,b.useState)([]),o=i[0],c=i[1];return(0,b.useEffect)((function(){r.$().post("".concat(D,"/api/device_uptime/getUpTimeInfo"),{address:n.currentNetwork.account}).then((function(e){var t=e.data,n=t.data,r={};n.forEach((function(e){null==r[e.nft_id]&&(r[e.nft_id]={},r[e.nft_id].list=[],r[e.nft_id].history=[]),r[e.nft_id].list.push(e)})),t.rewardHistory.data.forEach((function(e){e.forEach((function(e){void 0!=r[e.nft_id]&&r[e.nft_id].history.push(parseInt(e.reward_info)/Math.pow(10,t.rewardHistory.precision))}))})),c(Object.keys(r).map((function(e){return{nft_id:e,info:r[e].list.sort((function(e,t){return t.epoch-e.epoch})),history:r[e].history}})))})).catch((function(e){console.error(e)}))}),[n.currentNetwork.account]),(0,a.jsx)(a.Fragment,{children:o.map((function(e){return(0,a.jsx)(I,{nft_id:e.nft_id,info:e.info,history:e.history})}))})})),P=n(11163),O=(n(18699).getWindow().ethereum,u.m.BACKEND_URL),U=(0,s.k)((function(e){return{progressBar:{"&:not(:first-of-type)":{borderLeft:"3px solid ".concat("dark"===e.colorScheme?e.colors.dark[7]:e.white)}},NFTTable:{background:"white",color:"black",width:"100%"},green:{color:"green"},center:{textAlign:"center"},button:{marginLeft:10,marginRight:10},thead:{borderBottom:"1px solid black"},th:{borderBottom:"1px solid black"},btn_th:{width:110},info:{marginBottom:15},link:{cursor:"pointer",color:"rgb(190, 190, 255)"}}})),K=(0,j.Pi)((function(){var e=U().classes,t=(0,h.o)(),n=t.god,i=t.auth,s=t.nft,f=(0,P.useRouter)(),m=(0,b.useState)(!1),j=(m[0],m[1]),w=(0,b.useState)([]),S=w[0],y=w[1],T=(0,b.useState)(!1),C=(T[0],T[1]),_=(0,b.useState)(null),F=(_[0],_[1]),M=function(){L(),A()};(0,b.useEffect)((function(){s.refresh(),M()}),[n.currentNetwork.account]);var A=function(){var e="".concat(u.m.DEVICE_URL,"/get_status");g().get(e).then((function(e){var t=e.data;"an error has occured"==t.message?C(!1):i.$().post("".concat(O,"/api/nft_auth/verifySignature"),{signature:t.signature}).then((function(e){"OK"===e.data.status?C(!1):C(!0)})).catch((function(e){C(!0)}))})).catch((function(e){C(!0)}))},L=function(){s.getNFTLists().then(function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,c,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t,r=[],a=0;case 3:if(!(a<n.length)){e.next=19;break}return c=n[a].toString(),e.prev=5,e.next=8,i.$().post("".concat(O,"/api/nft_auth/status"),{nft_id:c});case 8:s=e.sent,l=s.data.data,r.push({NFT:l.nft_id,Active:l.active,Connection:l.session?"Assigned":"Not assigned"}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),r.push({NFT:parseInt(c),Active:!1,Connection:"Not assigned"});case 16:a++,e.next=3;break;case 19:y(r);case 20:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(){y([])}))};(0,b.useEffect)((function(){var e=setInterval((function(){A()}),2e3);return function(){clearInterval(e)}}),[]);var R=function(){var e=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.Kt,e.prev=1,e.next=4,n.currentNetwork.execContract({address:t,abi:x.Mt,method:"balanceOf",params:[n.currentNetwork.account]});case 4:if(!(e.sent[0]>0)){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();(0,b.useEffect)((function(){R().then((function(e){j(!0)})).catch((function(e){j(!1)}))}),[n.currentNetwork.account]);var Z=function(){return S.filter((function(e){return"Not assigned"==e.Connection})).map((function(e){return{value:e.NFT.toString(),label:"NFT "+e.NFT.toString(),group:"Testnet Miner"}}))},B=function(){var e=Z();return 0==e.length?"-1":e[0].value};if(s.loading)return(0,a.jsx)(c.Z,{children:(0,a.jsx)(l.a,{})});return(0,a.jsxs)(c.Z,{children:[S.length>0&&0==Z().length&&(0,a.jsx)("div",{className:e.info,children:"You have no available NFTs to secure a new connection. Click Remove Miner to release your current NFT's signature, or Purchase more NFTs to add more miners."}),0==S.length&&(0,a.jsxs)("div",{className:e.info,children:["You need NFT in order to secure your mining connection.\xa0",(0,a.jsx)("span",{className:e.link,onClick:function(){f.push("/nft")},children:"Click here to buy your NFT"})]}),(0,a.jsx)("div",{style:{display:"flex"},children:(0,a.jsx)(k.Ph,{placeholder:s.infoList.length>0?"Choose NFT to ":"No NFTs to assign",data:Z(),defaultValue:B(),style:{marginRight:10,marginBottom:10},onChange:F},B())}),(0,a.jsx)(N.Z,{label:"My Miners",children:(0,a.jsxs)("table",{className:e.NFTTable,children:[(0,a.jsx)("thead",{className:e.thead,children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:e.th,children:"Miner Status (Updated every 5 minutes)"},"1"),(0,a.jsx)("th",{className:e.th,children:"NFT Status"},"2"),(0,a.jsx)("th",{className:e.th,children:"NFT ID"},"3"),(0,a.jsx)("th",{className:"".concat(e.th," ").concat(e.btn_th),children:"\xa0\xa0"},"4")]})}),(0,a.jsx)("tbody",{children:0==S.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,rowSpan:1,style:{textAlign:"center"},children:"No miners currently assigned."})},0):S.map((function(t,r){return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:e.center,children:1==t.Active?"Active":"Not Active"},"1"),(0,a.jsx)("td",{className:"".concat(e.green," ").concat(e.center),children:t.Connection},"2"),(0,a.jsx)("td",{className:"".concat(e.green," ").concat(e.center),children:(0,a.jsx)("div",{children:t.NFT})},"3"),(0,a.jsx)("td",{children:(0,a.jsx)("div",{children:"Assigned"===t.Connection&&(0,a.jsx)(d.z,{onClick:function(){return function(e){var t=function(){i.$().post("".concat(O,"/api/nft_auth/remove"),{address:n.currentNetwork.account,nft_id:e}).then((function(e){"success"===e.data.status?(p().fire({title:"Success",html:"<p>Connection Removed!</p>",icon:"success"}),M()):p().fire({title:"Error",html:"<p>Errors Occured while removing connection.</p>",icon:"error"})})).catch((function(e){p().fire({title:"Error",html:"<p>Errors Occured while removing connection.</p>",icon:"error"})}))};i.check_auth((function(){t()}),(function(){i.login((function(){t()}),(function(){p().fire({title:"Error",html:"<p>Errors Occured while login.</p>",icon:"error"})}))}))}(t.NFT)},className:e.button,size:"xs",children:"Remove Miner"})})})]},r)}))})]})}),(0,a.jsx)(E,{}),(0,a.jsx)(z,{})]})}))},44868:function(e,t,n){n.d(t,{Cm:function(){return o},Hk:function(){return l},MZ:function(){return s},SF:function(){return a},WJ:function(){return u},mr:function(){return d},t3:function(){return c}});var r=n(59411),i=n(33331).m.TOKEN_UNIT;function o(e){return e.substring(0,6)+"..."+e.substring(e.length-4)}function a(e){return parseInt((e/(i/BigInt(1e4))).toString())/1e4}function c(e){var t=new Date(3600*e*1e3),n=new Date(3600*(e+1)*1e3);new Date;return t.toLocaleTimeString()+" - "+n.toLocaleTimeString()}function s(){return o(r.Kt)}function l(e){return new Date(1e3*e).toLocaleString()}function d(e){for(var t=[1,60,3600,86400],n=["s","m","h","d"],r=[],i=t.length-1;i>=0;i--)r[i]=Math.floor(e/t[i]),e-=r[i]*t[i];for(var o=0,a="",c=t.length-1;c>=0&&!(r[c]>0&&(a+="".concat(r[c]).concat(n[c]),2==++o));c--);return""==a&&(a="0s"),a}function u(e){return e/1e4+"x"}}}]);