(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[480],{75999:function(e,r,n){"use strict";n.d(r,{Z:function(){return x}});var t=n(14924),a=n(85893),o=(n(67294),n(58067)),c=n(68940),i=n(76867),s=n(5074),u=n(27412),l=n(71217);function d(e){var r=e.className;return(0,a.jsxs)("div",{className:r,children:["Welcome to Elumicate Mining Portal!",(0,a.jsx)("br",{}),"Please login with your Metamask to access the site."]})}var p="@media (max-width: 755px)",f=(0,o.k)((function(e){return{wrapper:{position:"relative",boxSizing:"border-box",backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:"#ffffffdb",boxShadow:"dark"===e.colorScheme?"0px 0px 6px 6px #00000030":"0px 0px 6px 6px #ffffffdb"},inner:{position:"relative",paddingLeft:0,paddingRight:0,maxWidth:"none"},title:(0,t.Z)({fontFamily:"Proxima-Nova, ".concat(e.fontFamily),fontSize:62,fontWeight:900,lineHeight:1.1,margin:0,padding:0,color:"dark"===e.colorScheme?e.white:e.black},p,{fontSize:42,lineHeight:1.2}),description:(0,t.Z)({marginTop:e.spacing.xl,fontSize:24},p,{fontSize:18}),controls:(0,t.Z)({marginTop:2*e.spacing.xl},p,{marginTop:e.spacing.xl}),control:(0,t.Z)({height:54,paddingLeft:38,paddingRight:38},p,{height:54,paddingLeft:18,paddingRight:18,flex:1}),githubControl:{borderWidth:2,borderColor:"dark"===e.colorScheme?"transparent":e.colors.dark[9],backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:"transparent","&:hover":{backgroundColor:"".concat("dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0]," !important")}},paddingLeft:{paddingLeft:"36px"},loginMsgDiv:{width:"100%",height:"100%",fontSize:"2em",fontWeight:"bold",textAlign:"center"}}})),h=(c.O,(0,l.Pi)((function(e){var r=e.children,n=f().classes,t=(0,u.o)().god,o=((0,l.fv)((function(){return{showConnecter:function(){t.setShowConnecter(!0)},showWalletInfo:function(){t.currentNetwork.walletInfo.visible=!0},currentAvatar:1}})),(0,a.jsx)(l.Qj,{children:function(){return(0,a.jsx)(s.C,{children:(0,a.jsx)("div",{className:n.wrapper,children:(0,a.jsx)(i.W,{className:n.inner,children:t.currentNetwork.account?r:(0,a.jsx)(d,{className:n.loginMsgDiv})})})})}}));return(0,a.jsx)(a.Fragment,{children:o})})));h.displayName="HeroTitle";var x=h},60705:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return I}});var t=n(47568),a=n(34051),o=n.n(a),c=n(85893),i=n(75999),s=n(58067),u=n(49497),l=n(88852),d=n(55910),p=n(33331),f=n(27412),h=n(9669),x=n.n(h),g=n(50144),m=n(86455),v=n.n(m),b=n(933),k=n(59411),w=n(67294),y=(0,s.k)((function(e){return{labelstyle:{backgroundColor:"white",borderWidth:"0px",width:"100%",padding:"3px",fontWeight:"bold",paddingLeft:"15px",paddingRight:"15px",borderRadius:"5px",color:"black"}}}));function N(e){var r=e.label,n=e.className,t=y().classes;return(0,c.jsx)("div",{className:"".concat(n," ").concat(t.labelstyle),children:(0,c.jsx)("span",{children:r})})}var C=(0,s.k)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%"},header:{backgroundColor:"dark"==e.colorScheme?"#0887BF":"#26BCFF",border:"0px",borderRadius:"6px",color:"white",alignItems:"center",justifyContent:"center",display:"flex",fontWeight:"bold",zIndex:100,position:"relative",height:"36px"},body:{marginTop:"-8px",backgroundColor:"dark"===e.colorScheme?"black":"#DBDBDB",borderWidth:"0px",color:"black",alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",padding:"10px",paddingTop:"18px",borderRadius:"6px",flexGrow:1},secondMargin:{marginTop:"5px"}}}));function j(e){var r=e.label,n=e.children,t=C().classes;return(0,c.jsxs)("div",{className:t.root,children:[(0,c.jsx)("div",{className:t.header,children:(0,c.jsx)("div",{children:r})}),(0,c.jsx)("div",{className:t.body,children:n})]})}var S=(0,s.k)((function(e){return{secondMargin:{marginTop:"10px"},box:{minWidth:"190px"},button:{position:"relative",transition:"background-color 150ms ease",height:"28px",minWidth:"100px",maxWidth:"100%"},progress:{position:"absolute",bottom:-1,right:-1,left:-1,top:-1,height:"auto",backgroundColor:"transparent",zIndex:0},label:{position:"relative",zIndex:1},resizeme:{margin:"0",padding:"0",paddingTop:"5px",width:"100%",overflow:"hidden"},textItem:{cursor:"pointer"}}}));function W(e){var r=e.label,n=(0,f.o)().god,t=S(),a=t.classes,o=(t.theme,(0,w.useState)("day")),i=(o[0],o[1],(0,w.useState)(null)),s=(i[0],i[1]),u=(0,w.useState)("0"),l=u[0],d=u[1];(0,w.useEffect)((function(){var e=function(){x().post("https://miner.elumicate.com/api/device_uptime/getUpTime",{address:n.currentNetwork.account}).then((function(e){var r=e.data;if("OK"===r.status){for(var n="",t=["s","m","h"],a=r.uptime,o=0;o<2;o++){var c=~~(a/60);if(n="".concat(a%60).concat(t[o]).concat(0==o?"":" ").concat(n),0==(a=c))break}a>0&&(n="".concat(a,"h ").concat(n)),d(n)}}))},r=setInterval((function(){e()}),5e3);return s(r),e(),function(){clearInterval(r)}}),[]);return(0,c.jsxs)(j,{label:r,children:[(0,c.jsx)(N,{label:"Total Amount",className:""}),(0,c.jsx)(N,{label:"".concat(l),className:a.secondMargin})]})}var T=n(18699).getWindow().ethereum,E=(0,s.k)((function(e){return{progressBar:{"&:not(:first-of-type)":{borderLeft:"3px solid ".concat("dark"===e.colorScheme?e.colors.dark[7]:e.white)}}}}));function I(){var e=E(),r=(e.classes,e.theme,(0,f.o)()),n=r.god,a=(r.lang,function(){var e=(0,t.Z)(o().mark((function e(r){var t,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.currentNetwork.account,e.prev=1,a=t,e.next=5,T.request({method:"personal_sign",params:[r,a,"Random text"]});case 5:return c=e.sent,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(r){return e.apply(this,arguments)}}()),s=function(){var e=(0,t.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k.Sm,e.prev=1,e.next=4,n.currentNetwork.execContract({address:r,abi:b.Mt,method:"balanceOf",params:[n.currentNetwork.account]});case 4:if(!(e.sent[0]>0)){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,t.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x().get("https://miner.elumicate.com/api/device_status/isActive?address=".concat(n.currentNetwork.account));case 3:return r=e.sent,e.abrupt("return",r.data.active);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,t.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x().post("https://miner.elumicate.com/api/device_auth/getNounce",{address:n.currentNetwork.account});case 3:return r=e.sent,e.abrupt("return",r.data.nounce);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,t.Z)(o().mark((function e(r){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x().post("https://miner.elumicate.com/api/device_auth/login",{address:n.currentNetwork.account,password:r});case 3:return t=e.sent,e.abrupt("return",t.data.session);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),y=function(){var e=(0,t.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:if(!1!==e.sent){e.next=6;break}return v().fire("Error",'<p>You do not have an NFT to secure your Mining Connection.</p>\n                 <p>Please obtain a mining NFT and try again.</p>\n                 <p><a href="/nft/">Buy NFT</a></p>',"warning"),e.abrupt("return",!1);case 6:return r=function(){var e=(0,t.Z)(o().mark((function e(){var r,t,c,i,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:if(null!=(r=e.sent)){e.next=6;break}return v().fire("Error","<p>Connection Error!</p>","error"),e.abrupt("return",!1);case 6:return t="".concat(p.m.DEVICE_URL,"/set_signature"),e.next=9,a(r);case 9:if(null===(c=e.sent)){e.next=23;break}return N(c,r),e.next=14,w(c);case 14:if(null!=(i=e.sent)){e.next=18;break}return v().fire("Error","<p>Connection Error!</p>","error"),e.abrupt("return",!1);case 18:s=n.currentNetwork.account,u=s,x().post(t,{signature:i,nftID:u,wallet:s},{}),e.next=24;break;case 23:v().fire("Error!","Errors occured while creating signature","error");case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=9,h();case 9:1==e.sent?v().fire({title:"Warning",html:"<p>Do you want to disconnect old session and start new mining?</p>",icon:"warning",showCancelButton:!0}).then((function(e){e.isConfirmed&&r()})):r();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e,r){var t=n.currentNetwork.account;try{var a=t,o=r,c=(0,g.recoverPersonalSignature)({data:o,sig:e});c.toLowerCase()===a.toLowerCase()?console.log("Successfully ecRecovered signer as ".concat(c)):console.log("Failed to verify signer when comparing ".concat(c," to ").concat(a))}catch(i){console.error(i)}};return(0,c.jsx)(i.Z,{children:(0,c.jsxs)(u.x,{children:[(0,c.jsx)("div",{style:{maxWidth:"250px",width:"100%",marginBottom:"10px"},children:(0,c.jsx)(W,{label:"UPTIME"})}),(0,c.jsx)(l.z,{onClick:y,rightIcon:(0,c.jsx)(d.Z,{size:18}),sx:{paddingRight:12},children:"Secure Miner Connection"})]})})}},15100:function(){},88924:function(){}}]);